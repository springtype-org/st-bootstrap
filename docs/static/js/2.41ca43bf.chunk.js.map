{"version":3,"sources":["../../../src/core/index.ts","../../../../src/core/st/st.ts","../../../../../src/web/component/trait/attr.ts","../../../../src/core/lang/type-object.ts","../../../../src/core/cd/change-detector.ts","../../../../src/core/lang/type-boolean.ts","../../../../src/web/vdom/index.ts","../../../../../src/web/router/component/route.tsx","../../../../../src/web/component/decorator/component.ts","../../../../src/core/lang/merge-objects.ts","../../../../src/core/log/should-log.ts","../../../../../src/core/event-bus/decorator/on-message.ts","../../../../src/core/lang/resolve-path-in-object.ts","../../../../../src/web/vdom/interface/iattributes.ts","../../../../src/core/lang/type-function.ts","../../../../../src/web/component/trait/store.ts","../node_modules/css-loader/dist/runtime/api.js","../../../../src/web/vdom/renderer.ts","../../../../src/core/st/index.ts","../../../../../src/web/component/style/index.ts","../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","../../../../src/core/lang/cast-intrinsic.ts","../../../../src/core/lang/type-string.ts","../../../../../src/core/context/decorator/context.ts","../../../../src/web/component/component.tsx","../../../../../src/core/context/decorator/on-context-change.ts","../../../../../src/core/event-bus/function/call-on-message.ts","../../../../../src/web/component/style/style.ts","../../../../src/web/router/index.ts","../../../../src/web/router/router.tsx","../../../../../src/core/context/function/generate-context-name.ts","../../../../src/core/lang/html-collection-to-array.ts","../../../../../src/web/component/decorator/attr.ts","../../../../../src/web/component/function/define-component.ts","../../../../src/core/lang/merge-arrays.ts","../../../../../src/web/router/component/route-list.tsx","../../../../src/core/lang/equal-objects.ts","../../../../../src/core/log/interface/index.ts","../../../../src/core/lang/immute.ts","../../../../src/web/component/index.ts","../../../../../src/web/component/decorator/event.ts","../../../../../src/core/context/trait/context.ts","../../../../src/core/lang/is-primitive.ts","../../../../src/web/vdom/tsx.ts","../../../../src/core/event-bus/event-bus.ts","../../../../src/core/context/context.ts","../../../../../src/web/router/component/link.tsx","../../../../src/core/cd/prop-change-manager.ts","../node_modules/@babel/runtime/node_modules/regenerator-runtime/runtime.js","../../../../../src/core/cd/interface/change-type.ts","../../../../src/core/context/index.ts","../../../../src/core/lang/index.ts","../node_modules/@babel/runtime/regenerator/index.js","../../../../../src/web/component/function/render.ts","../../../../../src/web/component/trait/event-bus.ts","../../../../src/core/log/log.ts","../../../../../src/core/st/interface/i$st.ts","../../../../src/core/log/index.ts","../../../../../src/core/context/function/call-on-context-change.ts","../../../../../src/core/log/interface/log-level.ts","../../../../src/core/lang/node-list-to-array.ts","../../../../src/core/lang/type-undefined.ts","../../../../src/web/vdom/dom.ts","../../../../src/core/event-bus/index.ts","../../../../../src/core/context/function/define-context.ts"],"names":["globalThis","ChangeDetector","this","core_1","st","type_function_1","define_component_1","a","exports","module","useSourceMap","list","toString","map","item","content","cssWithMappingToString","cssMapping","btoa","sourceMapping","toComment","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","i","modules","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","push","isOldIE","memo","memorize","Boolean","window","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","index","obj","css","media","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","Object","keys","forEach","key","setAttribute","insert","Error","appendChild","replaceText","textStore","replace","replacement","filter","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","bind","removeStyleElement","parentNode","updateStyle","newObj","lastIdentifiers","newList","prototype","call","newLastIdentifiers","_index","splice","context","Component","getPrototypeOf","instance","styleIdent","name","setStyle","router","matchPath_1","matchPath","onMismatch","nonTokenizedPath","componentIdent","targetClassOrFunction","vdom_1","newUniqueComponentName","deep","clone","component_1","_this","runtime","Op","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","Context","_invoke","makeInvokeMethod","state","invoke","method","arg","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","value","fn","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","previousPromise","enqueue","callInvokeWithMethodAndArg","Promise","resolve","reject","__await","then","unwrapped","error","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","require","component","localEventListener_1","type_undefined_1","TYPE_UNDEFINED","virtualNode","INTERNAL","CONTEXT_ASSIGNMENTS"],"mappings":"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","file":"static/js/2.41ca43bf.chunk.js","sourcesContent":["\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./st\"));\nrequire(\"./log\");\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar i_st_1 = require(\"./interface/i$st\");\n/**\n * μ is pronounced /mei/ and stands for \"micro\".\n * Because μ is not easy to write, we transliterate it to \"my\".\n *\n * You can access all states and functionallity of the framework\n * by importing the \"my\" object like: import { my } from \"my.ts\".\n *\n * The my global object may contain (if imported) the following sub-globals:\n * - di\n * - appState\n * - translate\n * - router\n */\nvar ST_KEY = \"$st\";\n// scoped local global storage reference\nvar _globalThis = new Function(\"return this\")();\n// makes sure the global storage is not re-initialized\n// and overwritten on subsequent calls / file imports\nif (!_globalThis[ST_KEY]) {\n    // register scoped global as an instance of this class\n    _globalThis[ST_KEY] = (_a = {\n            // runs micro-tasks asynchonuously\n            run: function (fn) { return __awaiter(void 0, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, fn()];\n                });\n            }); },\n            // enables features by giving a reason to import them\n            // and not get tree-shaked (st.enable(pubsub)) leads to an import statement\n            enable: function () {\n                var implReferences = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    implReferences[_i] = arguments[_i];\n                }\n                implReferences;\n            }\n        },\n        // global component instance registry\n        _a[i_st_1.GlobalCache.COMPONENT_INSTANCES] = [],\n        // global context state\n        _a[i_st_1.GlobalCache.CONTEXT] = {},\n        // global component class constructor registry\n        _a[i_st_1.GlobalCache.COMPONENT_REGISTRY] = {},\n        // global component\n        _a[i_st_1.GlobalCache.COMPONENT_WEAKMAP] = new WeakMap(),\n        _a);\n}\nexports.globalThis = _globalThis;\nexports.st = _globalThis[ST_KEY];\nif (!exports.st.globalThis) {\n    exports.st.globalThis = exports.globalThis;\n}\n//# sourceMappingURL=st.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../../core\");\nexports.ATTRS = \"ATTRS\";\nvar AttrType;\n(function (AttrType) {\n    AttrType[\"DOM_TRANSPARENT\"] = \"DOM_TRANSPARENT\";\n    AttrType[\"DOM_INTRANSPARENT\"] = \"DOM_INTRANSPARENT\";\n})(AttrType = exports.AttrType || (exports.AttrType = {}));\nexports.DEFAULT_ATTR_TYPE = AttrType.DOM_INTRANSPARENT;\nvar AttrTrait = /** @class */ (function () {\n    function AttrTrait() {\n    }\n    AttrTrait.enableFor = function (instance) {\n        var attrs = Object.getPrototypeOf(instance).constructor[exports.ATTRS] || {};\n        var _loop_1 = function (name_1) {\n            Object.defineProperty(instance, name_1, {\n                get: function () {\n                    return instance.getAttribute(name_1);\n                },\n                set: function (value) {\n                    instance.setAttribute(name_1, value);\n                },\n                configurable: true\n            });\n        };\n        // add change detection / reflection for all @attrs\n        for (var name_1 in attrs) {\n            _loop_1(name_1);\n        }\n    };\n    AttrTrait.getType = function (instance, name) {\n        var attributeDecorations = Object.getPrototypeOf(instance).constructor[exports.ATTRS] || {};\n        if (!attributeDecorations[name])\n            return exports.DEFAULT_ATTR_TYPE;\n        return attributeDecorations[name].type;\n    };\n    AttrTrait.addAttr = function (ctor, name, type) {\n        // validate\n        if (process.env.NODE_ENV === \"development\") {\n            // test and warn for uppercase characters because DOM will lowercase them\n            if (type === AttrType.DOM_TRANSPARENT && /[ABCDEFGHIJKLMNOPQRSTUVWXYZ]/g.test(name.toString())) {\n                core_1.st.warn(\"The attribute \" + ctor.name + \".\" + name + \" is DOM_TRANSPARENT and thus has a bad naming. It should be like: \" + name.toLowerCase());\n            }\n            if (core_1.st.dom.isStandardHTMLAttribute(name)) {\n                core_1.st.error(\"The attribute \" + ctor.name + \".\" + name + \" is a standard HTML element attribute. It's value would be written directly to this.el, hiding away from @attr. Please choose a different name.\");\n            }\n        }\n        // init cache\n        if (!ctor[exports.ATTRS]) {\n            ctor[exports.ATTRS] = {};\n        }\n        // register\n        ctor[exports.ATTRS][name] = {\n            name: name,\n            type: type,\n        };\n    };\n    return AttrTrait;\n}());\nexports.AttrTrait = AttrTrait;\n//# sourceMappingURL=attr.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// saving bytes by not having \"object\", \"function\", \"undefined\"\n// defined in bundled code more than one time\nexports.TYPE_OBJECT = \"object\";\n//# sourceMappingURL=type-object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_primitive_1 = require(\"../lang/is-primitive\");\nvar st_1 = require(\"../st/st\");\nvar PATH_SEPARATOR = \".\";\nvar TARGET = Symbol(\"target\");\nvar UNSUBSCRIBE = Symbol(\"unsubscribe\");\nvar ChangeDetector = /** @class */ (function () {\n    function ChangeDetector() {\n    }\n    ChangeDetector.isBuiltinWithoutMutableMethods = function (value) { return value instanceof RegExp || value instanceof Number; };\n    ChangeDetector.isBuiltinWithMutableMethods = function (value) { return value instanceof Date; };\n    ChangeDetector.concatPath = function (path, property) {\n        if (property && property.toString) {\n            if (path) {\n                path += PATH_SEPARATOR;\n            }\n            path += property.toString();\n        }\n        return path;\n    };\n    ChangeDetector.walkPath = function (path, callback) {\n        var index;\n        while (path) {\n            index = path.indexOf(PATH_SEPARATOR);\n            if (index === -1) {\n                index = path.length;\n            }\n            callback(path.slice(0, index));\n            path = path.slice(index + 1);\n        }\n    };\n    ChangeDetector.shallowClone = function (value) {\n        if (Array.isArray(value)) {\n            return value.slice();\n        }\n        return Object.assign({}, value);\n    };\n    ChangeDetector.onChange = function (object, onChange, options) {\n        if (options === void 0) { options = {}; }\n        var proxyTarget = Symbol(\"ProxyTarget\");\n        var inApply = false;\n        var changed = false;\n        var applyPath;\n        var applyPrevious;\n        var isUnsubscribed = false;\n        var equals = options.equals || Object.is;\n        var propCache = new WeakMap();\n        var pathCache = new WeakMap();\n        var proxyCache = new WeakMap();\n        var handler = {\n            get: function (target, property, receiver) {\n                if (property === proxyTarget || property === TARGET) {\n                    return target;\n                }\n                if (property === UNSUBSCRIBE && pathCache.get(target) === \"\") {\n                    return unsubscribe(target);\n                }\n                var value = Reflect.get(target, property, receiver);\n                if (is_primitive_1.isPrimitive(value) || ChangeDetector.isBuiltinWithoutMutableMethods(value) || property === \"constructor\" || options.isShallow === true) {\n                    return value;\n                }\n                // preserve invariants\n                var descriptor = getOwnPropertyDescriptor(target, property);\n                if (descriptor && !descriptor.configurable) {\n                    if (descriptor.set && !descriptor.get) {\n                        return undefined;\n                    }\n                    if (descriptor.writable === false) {\n                        return value;\n                    }\n                }\n                return buildProxy(value, ChangeDetector.concatPath(pathCache.get(target), property));\n            },\n            set: function (target, property, value, receiver) {\n                if (value && value[proxyTarget] !== undefined) {\n                    value = value[proxyTarget];\n                }\n                var ignore = ignoreChange(property);\n                var previous = ignore ? null : Reflect.get(target, property, receiver);\n                var result = Reflect.set(target[proxyTarget] || target, property, value);\n                if (!ignore && !equals(previous, value)) {\n                    handleChange(pathCache.get(target), property, previous, value);\n                }\n                return result;\n            },\n            defineProperty: function (target, property, descriptor) {\n                var result = Reflect.defineProperty(target, property, descriptor);\n                if (!ignoreChange(property)) {\n                    invalidateCachedDescriptor(target, property);\n                    handleChange(pathCache.get(target), property, undefined, descriptor.value);\n                }\n                return result;\n            },\n            deleteProperty: function (target, property) {\n                if (!Reflect.has(target, property)) {\n                    return true;\n                }\n                var ignore = ignoreChange(property);\n                var previous = ignore ? null : Reflect.get(target, property);\n                var result = Reflect.deleteProperty(target, property);\n                if (!ignore) {\n                    invalidateCachedDescriptor(target, property);\n                    handleChange(pathCache.get(target), property, previous);\n                }\n                return result;\n            },\n            apply: function (target, thisArg, argumentsList) {\n                var compare = ChangeDetector.isBuiltinWithMutableMethods(thisArg);\n                if (compare) {\n                    thisArg = thisArg[proxyTarget];\n                }\n                if (!inApply) {\n                    inApply = true;\n                    if (compare) {\n                        applyPrevious = thisArg.valueOf();\n                    }\n                    if (Array.isArray(thisArg) || toString.call(thisArg) === \"[object Object]\") {\n                        applyPrevious = ChangeDetector.shallowClone(thisArg[proxyTarget]);\n                    }\n                    applyPath = pathCache.get(target);\n                    applyPath = applyPath.slice(0, Math.max(applyPath.lastIndexOf(PATH_SEPARATOR), 0));\n                    var result = Reflect.apply(target, thisArg, argumentsList);\n                    inApply = false;\n                    if (changed || (compare && !equals(applyPrevious, thisArg.valueOf()))) {\n                        handleChange(applyPath, \"\", applyPrevious, thisArg[proxyTarget] || thisArg);\n                        applyPrevious = null;\n                        changed = false;\n                    }\n                    return result;\n                }\n                return Reflect.apply(target, thisArg, argumentsList);\n            },\n        };\n        var handleChange = function (path, property, previous, value) {\n            if (isUnsubscribed) {\n                return;\n            }\n            if (!inApply) {\n                onChange(ChangeDetector.concatPath(path, property), value, previous);\n                return;\n            }\n            if (inApply && applyPrevious && previous !== undefined && value !== undefined && property !== \"length\") {\n                var item_1 = applyPrevious;\n                if (path !== applyPath) {\n                    path = path.replace(applyPath, \"\").slice(1);\n                    ChangeDetector.walkPath(path, function (key) {\n                        item_1[key] = ChangeDetector.shallowClone(item_1[key]);\n                        item_1 = item_1[key];\n                    });\n                }\n                item_1[property] = previous;\n            }\n            changed = true;\n        };\n        var getOwnPropertyDescriptor = function (target, property) {\n            var props = propCache ? propCache.get(target) : undefined;\n            if (props) {\n                return props;\n            }\n            props = new Map();\n            propCache.set(target, props);\n            var prop = props.get(property);\n            if (!prop) {\n                prop = Reflect.getOwnPropertyDescriptor(target, property);\n                props.set(property, prop);\n            }\n            return prop;\n        };\n        var invalidateCachedDescriptor = function (target, property) {\n            var props = propCache ? propCache.get(target) : undefined;\n            if (props) {\n                props.delete(property);\n            }\n        };\n        var buildProxy = function (value, path) {\n            if (isUnsubscribed) {\n                return value;\n            }\n            pathCache.set(value, path);\n            var proxy = proxyCache.get(value);\n            if (proxy === undefined) {\n                // If Proxy is not supported in your browser, add\n                // https://github.com/GoogleChrome/proxy-polyfill\n                // to your application bundle\n                proxy = new Proxy(value, handler);\n                proxyCache.set(value, proxy);\n            }\n            return proxy;\n        };\n        var unsubscribe = function (target) {\n            isUnsubscribed = true;\n            propCache = null;\n            pathCache = null;\n            proxyCache = null;\n            return target;\n        };\n        var ignoreChange = function (property) {\n            return isUnsubscribed || (options.ignoreSymbols === true && typeof property === \"symbol\");\n        };\n        if (is_primitive_1.isPrimitive(object)) {\n            st_1.st.warn(\"You're trying to apply deep change detection on a primitive value. Returning the primitive value instead of a Proxy(value). The onChange handler function will never be called.\");\n            return object;\n        }\n        var proxy = buildProxy(object, \"\");\n        onChange = onChange.bind(proxy);\n        return proxy;\n    };\n    return ChangeDetector;\n}());\nexports.ChangeDetector = ChangeDetector;\nChangeDetector.onChange.target = function (proxy) { return proxy[TARGET] || proxy; };\nChangeDetector.onChange.unsubscribe = function (proxy) { return proxy[UNSUBSCRIBE] || proxy; };\nif (!st_1.st.onChange) {\n    st_1.st.onChange = ChangeDetector.onChange;\n}\n//# sourceMappingURL=change-detector.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TYPE_BOOLEAN = \"boolean\";\n//# sourceMappingURL=type-boolean.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./dom\");\nrequire(\"./interface/jsx\");\nrequire(\"./renderer\");\nvar tsx_1 = require(\"./tsx\");\nexports.newUniqueComponentName = tsx_1.newUniqueComponentName;\nexports.tsx = tsx_1.tsx;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../../core\");\nvar component_1 = require(\"../../component\");\nvar vdom_1 = require(\"../../vdom\");\nvar route_list_1 = require(\"./route-list\");\nvar lang_1 = require(\"../../../core/lang\");\nvar attr_1 = require(\"../../component/trait/attr\");\nvar router_1 = require(\"../router\");\nvar defaultLoadingComponent = vdom_1.tsx(\"div\", null, \"Loading...\");\nvar Route = /** @class */ (function (_super) {\n    __extends(Route, _super);\n    function Route() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // if array is passed, the \"one-of\" strategy is used; first match wins\n        _this.path = \"\";\n        _this.exact = false;\n        _this.cacheGroup = router_1.DEFAULT_ROUTE_CACHE_GROUP;\n        _this.displayStyle = 'block';\n        _this.onAfterCacheGroupChange = function () {\n            if (_this.cacheGroup !== core_1.st.router.activeRouteCacheGroup) {\n                _this.deleteGuardComponent();\n                _this.deleteLoadingComponent();\n                _this.deleteComponent();\n            }\n        };\n        _this.onMatch = function (path, match) { return __awaiter(_this, void 0, void 0, function () {\n            var e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.enter(match, path)];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        e_1 = _a.sent();\n                        core_1.st.debug(e_1.message);\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.onMismatch = function (path) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.leave(path);\n                return [2 /*return*/];\n            });\n        }); };\n        _this.leave = function (path) { return __awaiter(_this, void 0, void 0, function () {\n            var lifecycle_1;\n            return __generator(this, function (_a) {\n                if (path === this.activePath) {\n                    this.style = {\n                        display: 'none'\n                    };\n                    lifecycle_1 = function (component) {\n                        if (component && component.$stComponent && typeof component.$stComponent.onRouteLeave == lang_1.TYPE_FUNCTION) {\n                            //component.$stComponent.onRouteLeave(path);\n                        }\n                    };\n                    if (Array.isArray(this.componentEl)) {\n                        if (this.componentEl.length > -1) {\n                            this.componentEl.forEach(function (cmp) { return lifecycle_1(cmp); });\n                        }\n                    }\n                    else {\n                        lifecycle_1(this.componentEl);\n                    }\n                    this.deleteGuardComponent();\n                    this.deleteLoadingComponent();\n                    delete this.activePath;\n                }\n                return [2 /*return*/];\n            });\n        }); };\n        _this.renderFunctionalComponent = function (component) { return __awaiter(_this, void 0, void 0, function () {\n            var Component;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(typeof component === lang_1.TYPE_FUNCTION)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, component()];\n                    case 1:\n                        // call closure\n                        component = _a.sent();\n                        // dynamic import case: <Route>{() => import('./page/b') }</Route>\n                        if (component.default) {\n                            Component = component.default;\n                            return [2 /*return*/, vdom_1.tsx(Component, null)];\n                        }\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, component];\n                }\n            });\n        }); };\n        // is called by the router whenever one of this.paths match partially or exactly\n        _this.enter = function (match, path) { return __awaiter(_this, void 0, void 0, function () {\n            var result, lifecycle, _i, _a, component_2;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (this.guardComponent || this.cacheGroup !== core_1.st.router.activeRouteCacheGroup) {\n                            this.deleteGuardComponent();\n                            this.deleteLoadingComponent();\n                            this.deleteComponent();\n                        }\n                        // false-positive match when explicit matching is asked for\n                        if (this.exact && !match.isExact) {\n                            // also leave old path\n                            this.leave(path);\n                            return [2 /*return*/];\n                        }\n                        this.activePath = path;\n                        core_1.st.router.activeRouteCacheGroup = this.cacheGroup;\n                        this.style = {\n                            display: this.displayStyle\n                        };\n                        if (!(typeof this.guard === lang_1.TYPE_FUNCTION)) return [3 /*break*/, 2];\n                        this.prepareLoadingComponent();\n                        result = void 0;\n                        return [4 /*yield*/, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {\n                                var guardResponse;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0:\n                                            this.runningMatch = reject;\n                                            return [4 /*yield*/, this.guard(match)];\n                                        case 1:\n                                            guardResponse = _a.sent();\n                                            resolve(guardResponse);\n                                            return [2 /*return*/];\n                                    }\n                                });\n                            }); })];\n                    case 1:\n                        result = _b.sent();\n                        if (typeof result === lang_1.TYPE_STRING) {\n                            core_1.st.router.navigate(result);\n                            this.deleteLoadingComponent();\n                            this.deleteComponent();\n                            return [2 /*return*/];\n                        }\n                        else if (typeof result === lang_1.TYPE_OBJECT) {\n                            this.guardComponent = core_1.st.dom.createElementOrElements(result, this.el);\n                        }\n                        _b.label = 2;\n                    case 2:\n                        this.showElement(this.loadingComponentEl, false);\n                        if (!!this.guardComponent) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.prepareComponent()];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4:\n                        lifecycle = function (component) {\n                            if (!_this.el.contains(component)) {\n                                _this.el.appendChild(component);\n                            }\n                            var stComponent = component.$stComponent;\n                            // stComponent is only given when we're dealing with a SpringType component here\n                            // else it's undefined and connectedCallback() should never be called\n                            if (stComponent && !stComponent.INTERNAL.isConnected) {\n                                stComponent.connectedCallback();\n                            }\n                            // call to this for all links\n                            core_1.st.router.callOnAfterMatchHandlers();\n                            if (stComponent && typeof stComponent.onRouteEnter == lang_1.TYPE_FUNCTION) {\n                                stComponent.onRouteEnter(path);\n                            }\n                        };\n                        if (!this.guardComponent) {\n                            if (Array.isArray(this.componentEl)) {\n                                for (_i = 0, _a = this.componentEl; _i < _a.length; _i++) {\n                                    component_2 = _a[_i];\n                                    lifecycle(component_2);\n                                }\n                            }\n                            else {\n                                lifecycle(this.componentEl);\n                            }\n                        }\n                        else {\n                            lifecycle(this.guardComponent);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        return _this;\n    }\n    Route_1 = Route;\n    Route.prototype.onBeforeConnect = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                this.match = function () {\n                    _this.stopRunningMatch();\n                    core_1.st.router.createMatcher(_this.path, _this.onMatch, _this.onMismatch)();\n                };\n                this.cacheGroupFn = function () {\n                    _this.onAfterCacheGroupChange();\n                };\n                if (!(this.parent instanceof route_list_1.RouteList)) {\n                    core_1.st.router.addOnLocationChangeHandler(this.match);\n                    core_1.st.router.addOnAfterCacheGroupChangeHandler(this.cacheGroupFn);\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    Route.prototype.onDisconnect = function () {\n        if (!(this.parent instanceof route_list_1.RouteList)) {\n            core_1.st.router.removeOnLocationChangeHandler(this.match);\n            core_1.st.router.removeOnAfterCacheGroupChangeHandler(this.cacheGroupFn);\n        }\n    };\n    Route.prototype.prepareLoadingComponent = function () {\n        if (this.loadingComponentEl)\n            return;\n        var componentSlot = this.renderSlot(Route_1.SLOT_NAME_LOADING_COMPONENT, defaultLoadingComponent);\n        this.loadingComponentEl = core_1.st.dom.createElementOrElements(componentSlot, this.el);\n    };\n    ;\n    Route.prototype.prepareComponent = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var childComponents, components, _i, childComponents_1, component_3, _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (this.componentEl)\n                            return [2 /*return*/];\n                        childComponents = this.renderChildren();\n                        components = [];\n                        _i = 0, childComponents_1 = childComponents;\n                        _c.label = 1;\n                    case 1:\n                        if (!(_i < childComponents_1.length)) return [3 /*break*/, 4];\n                        component_3 = childComponents_1[_i];\n                        _b = (_a = components).push;\n                        return [4 /*yield*/, this.renderFunctionalComponent(component_3)];\n                    case 2:\n                        _b.apply(_a, [_c.sent()]);\n                        _c.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4:\n                        this.componentEl = core_1.st.dom.createElementOrElements(components, this.el, true);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ;\n    Route.prototype.removeElement = function (elements) {\n        if (elements) {\n            if (Array.isArray(elements)) {\n                for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                    var element = elements_1[_i];\n                    if (this.el.contains(element)) {\n                        this.el.removeChild(element);\n                    }\n                }\n            }\n            else {\n                if (this.el.contains(elements)) {\n                    this.el.removeChild(elements);\n                }\n            }\n        }\n    };\n    Route.prototype.showElement = function (elements, show) {\n        if (show === void 0) { show = true; }\n        if (elements) {\n            if (Array.isArray(elements)) {\n                for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n                    var element = elements_2[_i];\n                    element.style.display = show ? this.displayStyle : 'none';\n                }\n            }\n            else {\n                elements.style.display = show ? this.displayStyle : 'none';\n            }\n        }\n    };\n    Route.prototype.deleteGuardComponent = function () {\n        this.removeElement(this.guardComponent);\n        delete this.guardComponent;\n    };\n    Route.prototype.deleteLoadingComponent = function () {\n        this.removeElement(this.loadingComponentEl);\n        delete this.loadingComponentEl;\n    };\n    Route.prototype.deleteComponent = function () {\n        this.removeElement(this.componentEl);\n        delete this.componentEl;\n    };\n    Route.prototype.stopRunningMatch = function () {\n        if (this.runningMatch) {\n            this.runningMatch({\n                reason: 'matcher triggered',\n                message: \"Stopped matching (\" + this.path + \")\"\n            });\n        }\n    };\n    Route.prototype.render = function () {\n        return vdom_1.tsx(\"fragment\", null);\n    };\n    var Route_1;\n    Route.SLOT_NAME_LOADING_COMPONENT = 'loading-component';\n    __decorate([\n        component_1.attr,\n        __metadata(\"design:type\", Function)\n    ], Route.prototype, \"guard\", void 0);\n    __decorate([\n        component_1.attr(attr_1.AttrType.DOM_TRANSPARENT),\n        __metadata(\"design:type\", Object)\n    ], Route.prototype, \"path\", void 0);\n    __decorate([\n        component_1.attr,\n        __metadata(\"design:type\", Boolean)\n    ], Route.prototype, \"exact\", void 0);\n    __decorate([\n        component_1.attr,\n        __metadata(\"design:type\", String)\n    ], Route.prototype, \"cacheGroup\", void 0);\n    __decorate([\n        component_1.attr,\n        __metadata(\"design:type\", String)\n    ], Route.prototype, \"displayStyle\", void 0);\n    Route = Route_1 = __decorate([\n        component_1.component\n    ], Route);\n    return Route;\n}(core_1.st.component));\nexports.Route = Route;\n//# sourceMappingURL=route.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../../core\");\nvar type_function_1 = require(\"../../../core/lang/type-function\");\nvar define_component_1 = require(\"../function/define-component\");\nexports.component = function (optionsOrElementFunction, functionalName) {\n    if (optionsOrElementFunction === void 0) { optionsOrElementFunction = undefined; }\n    // functional use: component((scope) => { ... }, ...)\n    if (typeof optionsOrElementFunction == type_function_1.TYPE_FUNCTION) {\n        optionsOrElementFunction.functionalName = functionalName;\n        // component(() => <div></div>, () => ({ div: { color: red } }), 'open')\n        return define_component_1.defineComponent(optionsOrElementFunction);\n    }\n    else {\n        // decorator use on class @component({ ... })\n        return function (targetClass) {\n            if (process.env.NODE_ENV === \"development\") {\n                if (!(new (Object.getPrototypeOf(targetClass).prototype.constructor) instanceof core_1.st.component)) {\n                    throw new Error(\"@component class \" + targetClass.name + \" doesn't extend base class st.component. Make sure to write: class \" + targetClass.name + \" extends st.component implements ILifecycle { ... your implementation ... }\");\n                }\n            }\n            return define_component_1.defineComponent(targetClass, optionsOrElementFunction);\n        };\n    }\n};\n//# sourceMappingURL=component.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeObjects = function (a, b) {\n    var mergeResult;\n    if (a && b) {\n        mergeResult = __assign(__assign({}, a), b);\n    }\n    else {\n        mergeResult = a || b;\n    }\n    return mergeResult;\n};\n//# sourceMappingURL=merge-objects.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar interface_1 = require(\"./interface\");\nexports.shouldLog = function (targetLogLevel) {\n    return targetLogLevel <= interface_1.LogLevel.INFO;\n};\n//# sourceMappingURL=should-log.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MESSAGE_ASSIGNMENTS = 'MESSAGE_ASSIGNMENTS';\nfunction onMessage(topicName) {\n    return function (target, propertyKey) {\n        if (!target[exports.MESSAGE_ASSIGNMENTS]) {\n            target[exports.MESSAGE_ASSIGNMENTS] = {};\n        }\n        target[exports.MESSAGE_ASSIGNMENTS][topicName] = propertyKey;\n    };\n}\nexports.onMessage = onMessage;\n//# sourceMappingURL=on-message.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar type_undefined_1 = require(\"./type-undefined\");\n// Resolves a path deep in an object\n// e.g. path: Path such as: \"module_a.foo\"\n// e.g. object data like: { \"module_a\": { \"foo\": \"Foo!\"} }\n// returns \"Foo!\"\nexports.resolvePathInObject = function (path, object, separator) {\n    if (separator === void 0) { separator = '.'; }\n    var splits;\n    if (Array.isArray(path)) {\n        splits = path;\n    }\n    else {\n        splits = path.split(separator);\n    }\n    var value;\n    var walk = function (subTree, i) {\n        if (!subTree)\n            return;\n        value = subTree[splits[i]];\n        if (typeof value !== type_undefined_1.TYPE_UNDEFINED && i == splits.length - 1) {\n            return value;\n        }\n        else {\n            return walk(value, ++i);\n        }\n    };\n    return walk(object, 0);\n};\n//# sourceMappingURL=resolve-path-in-object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.REF_ATTRIBUTE_NAME = \"ref\";\nexports.UNWRAP_ATTRIBUTE_NAME = \"unwrap\";\nexports.SLOT_ATTRIBUTE_NAME = \"slot\";\n//# sourceMappingURL=iattributes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// saving bytes by not having \"object\", \"function\", \"undefined\"\n// defined in bundled code more than one time\nexports.TYPE_FUNCTION = \"function\";\n//# sourceMappingURL=type-function.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../../core\");\nvar resolve_path_in_object_1 = require(\"../../../core/lang/resolve-path-in-object\");\nvar type_function_1 = require(\"../../../core/lang/type-function\");\nexports.STORE_MOUNTS = \"STORE_MOUNTS\";\n// @ts-ignore\nvar reduxStore;\nvar StoreTrait = /** @class */ (function () {\n    function StoreTrait() {\n    }\n    StoreTrait.enableFor = function (instance) {\n        var storeMounts = Object.getPrototypeOf(instance).constructor[exports.STORE_MOUNTS] || {};\n        if (!reduxStore)\n            return;\n        StoreTrait.setMountStateValues(storeMounts, instance);\n        reduxStore.subscribe(function () {\n            StoreTrait.setMountStateValues(storeMounts, instance);\n        });\n    };\n    StoreTrait.setMountStateValues = function (storeMounts, instance) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, _b, _i, name_1, value, prevValue;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = [];\n                        for (_b in storeMounts)\n                            _a.push(_b);\n                        _i = 0;\n                        _c.label = 1;\n                    case 1:\n                        if (!(_i < _a.length)) return [3 /*break*/, 5];\n                        name_1 = _a[_i];\n                        if (!!instance.el) return [3 /*break*/, 3];\n                        return [4 /*yield*/, instance.initiallyRendered()];\n                    case 2:\n                        _c.sent();\n                        _c.label = 3;\n                    case 3:\n                        ;\n                        value = resolve_path_in_object_1.resolvePathInObject(storeMounts[name_1], reduxStore.getState());\n                        prevValue = instance[name_1];\n                        // redux store value map to instance property\n                        // @ts-ignore\n                        instance[name_1] = value;\n                        if (typeof instance.onStoreChange == type_function_1.TYPE_FUNCTION) {\n                            instance.onStoreChange(name_1, value);\n                        }\n                        _c.label = 4;\n                    case 4:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    StoreTrait.addStoreMount = function (ctor, mountName, selector) {\n        // validate\n        if (process.env.NODE_ENV === \"development\") {\n            if (core_1.st.dom.isStandardHTMLAttribute(mountName)) {\n                core_1.st.error(\"The store mount \" + ctor.name + \".\" + mountName + \" is a standard HTML element attribute. It's value would be written directly to this.el, hiding away from @attr. Please choose a different name.\");\n            }\n        }\n        // init cache\n        if (!ctor[exports.STORE_MOUNTS]) {\n            ctor[exports.STORE_MOUNTS] = {};\n        }\n        // register\n        ctor[exports.STORE_MOUNTS][mountName] = selector;\n    };\n    return StoreTrait;\n}());\nexports.StoreTrait = StoreTrait;\nif (!core_1.st.getStore) {\n    core_1.st.getStore = function () {\n        return reduxStore;\n    };\n    // @ts-ignore\n    core_1.st.setStore = function (store) {\n        reduxStore = store;\n    };\n}\n//# sourceMappingURL=store.js.map","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar st_1 = require(\"../../core/st\");\nif (!st_1.st.renderer) {\n    st_1.st.renderer = {\n        render: function (virtualNode, parentDomElement) {\n            if (typeof virtualNode == 'string') {\n                return st_1.st.dom.createTextNode(virtualNode, parentDomElement);\n            }\n            return st_1.st.dom.createElementOrElements(virtualNode, parentDomElement);\n        },\n    };\n    if (!st_1.st.render) {\n        // add render method for awaiting / initial rendering\n        st_1.st.render = function (virtualNode, domNode) {\n            if (domNode === void 0) { domNode = document.body; }\n            return __awaiter(void 0, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: \n                        // wait for the DOM to become ready, then render (prevents errors if a novice calls st.render() before <body> exists)\n                        return [4 /*yield*/, st_1.st.dom.isReady()];\n                        case 1:\n                            // wait for the DOM to become ready, then render (prevents errors if a novice calls st.render() before <body> exists)\n                            _a.sent();\n                            // render root element\n                            st_1.st.renderer.render(virtualNode, domNode);\n                            if (st_1.st.router) {\n                                // all <Route>'s and <RouteList>'s are instantiated by now,\n                                // start rendering routes; method checks internally if already enabled.\n                                st_1.st.router.enable();\n                            }\n                            // standard style for .st-hide to work (st.hide(domElement), st.show(domElement))\n                            st_1.st.style('st-hide', \"[st-hide] { display: none; }\");\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    }\n}\n//# sourceMappingURL=renderer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar st_1 = require(\"./st\");\nexports.globalThis = st_1.globalThis;\nexports.st = st_1.st;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./style\");\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.castIntrinsic = function (value) {\n    // boolean early return\n    if (value == 'true')\n        return true;\n    if (value == 'false')\n        return false;\n    var charCode0 = value.charCodeAt(0);\n    var charCode1 = value.charCodeAt(1);\n    // .[0-9] or if it starts with [0-9]\n    if (value[0] == '.' && charCode1 >= 48 && charCode1 <= 57 || charCode0 >= 48 && charCode0 <= 57) {\n        return Number(value);\n    }\n    return value; // string\n};\n//# sourceMappingURL=cast-intrinsic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TYPE_STRING = \"string\";\n//# sourceMappingURL=type-string.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lang_1 = require(\"../../lang\");\nvar define_context_1 = require(\"../function/define-context\");\nvar generate_context_name_1 = require(\"../function/generate-context-name\");\nexports.context = function (contextNameOrPrototype, propName) {\n    if (typeof contextNameOrPrototype !== lang_1.TYPE_OBJECT) {\n        // @context('some-unique-name') case\n        return function (prototype, propName) {\n            //console.log('!!!', prototype, propName!, contextNameOrPrototype)\n            // in case contextName is not set, generate a pseudo-unique name\n            define_context_1.defineContext(prototype, propName, contextNameOrPrototype);\n        };\n    }\n    else {\n        //console.log('???', contextNameOrPrototype, propName!, generateContextName(contextNameOrPrototype.constructor.name, propName!))\n        // @context case\n        define_context_1.defineContext(contextNameOrPrototype, propName, generate_context_name_1.generateContextName(contextNameOrPrototype.constructor.name, propName));\n    }\n};\n//# sourceMappingURL=context.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../core\");\nvar context_1 = require(\"../../core/context\");\nvar context_2 = require(\"../../core/context/context\");\nvar i_st_1 = require(\"../../core/st/interface/i$st\");\nvar vdom_1 = require(\"../vdom\");\nvar attr_1 = require(\"./trait/attr\");\nvar lang_1 = require(\"../../core/lang\");\nvar dom_1 = require(\"../vdom/dom\");\nvar store_1 = require(\"./trait/store\");\nvar event_bus_1 = require(\"./trait/event-bus\");\nvar call_on_context_change_1 = require(\"../../core/context/function/call-on-context-change\");\nvar call_on_message_1 = require(\"../../core/event-bus/function/call-on-message\");\nvar Component = /** @class */ (function () {\n    function Component() {\n        var _this = this;\n        this.updateClassAndStyles = function () {\n            // getter returns merged results from component and virutal node\n            // assignment happens to recall the setter for change detection\n            // this is necessary for outer class={[...]} and outer style={{ ... }} assignments\n            if (_this.class && _this.class.length) {\n                _this.class = _this.class;\n            }\n            if (_this.style && Object.keys(_this.style).length) {\n                _this.style = _this.style;\n            }\n        };\n        // internal state initialization\n        this.INTERNAL = {\n            attributes: {},\n            options: Object.getPrototypeOf(this).constructor.COMPONENT_OPTIONS,\n            resolveOnInitiallyRendered: function () {\n            },\n        };\n        // @attr impl.\n        attr_1.AttrTrait.enableFor(this);\n        // @context, @onContextChange\n        context_1.ContextTrait.enableFor(this);\n        // @store\n        store_1.StoreTrait.enableFor(this);\n        // @onMessage\n        event_bus_1.EventBusTrait.enableFor(this);\n        // register with global instance registry\n        core_1.st[i_st_1.GlobalCache.COMPONENT_INSTANCES].push(this);\n    }\n    Component.prototype.renderPartial = function (virtualNode, domNode) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (!domNode) {\n                    domNode = this.el;\n                }\n                core_1.st.dom.removeChildren(domNode);\n                return [2 /*return*/, core_1.st.render(virtualNode, domNode)];\n            });\n        });\n    };\n    Component.prototype.rerender = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var vdom;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.renderPartial(this.render(), this.el)];\n                    case 1:\n                        vdom = _a.sent();\n                        this.onAfterRender();\n                        return [2 /*return*/, vdom];\n                }\n            });\n        });\n    };\n    Object.defineProperty(Component.prototype, \"class\", {\n        // --- standard HTML attributes (pass-thru)\n        get: function () {\n            return this.INTERNAL[dom_1.CLASS_ATTRIBUTE_NAME] || [];\n        },\n        set: function (classes) {\n            this.INTERNAL[dom_1.CLASS_ATTRIBUTE_NAME] = classes;\n            if (this.el) {\n                core_1.st.dom.setAttribute(dom_1.CLASS_ATTRIBUTE_NAME, lang_1.mergeArrays(classes, this.virtualNode.attributes[dom_1.CLASS_ATTRIBUTE_NAME]), this.el, true);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Component.prototype, \"style\", {\n        get: function () {\n            return this.INTERNAL[dom_1.STYLE_ATTRIBUTE_NAME] || {};\n        },\n        set: function (style) {\n            this.INTERNAL[dom_1.STYLE_ATTRIBUTE_NAME] = style;\n            if (this.el) {\n                core_1.st.dom.setAttribute(dom_1.STYLE_ATTRIBUTE_NAME, lang_1.mergeObjects(style, this.virtualNode.attributes[dom_1.STYLE_ATTRIBUTE_NAME]), this.el, true);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Component.prototype.renderSlot = function (slotName, defaults) {\n        if (this.virtualNode.slotChildren[slotName]) {\n            return this.virtualNode.slotChildren[slotName].children;\n        }\n        return defaults || vdom_1.tsx(\"fragment\", null);\n    };\n    Component.prototype.renderChildren = function (defaults) {\n        if (this.virtualNode.slotChildren[dom_1.DEFAULT_SLOT_NAME]) {\n            return this.virtualNode.slotChildren[dom_1.DEFAULT_SLOT_NAME];\n        }\n        return defaults || vdom_1.tsx(\"fragment\", null);\n    };\n    Component.prototype.onBeforeElCreate = function (virtualNode) {\n    };\n    Component.prototype.onAfterElCreate = function (el) {\n    };\n    Component.prototype.onBeforeElChildrenCreate = function () {\n    };\n    Component.prototype.onAfterElChildrenCreate = function () {\n    };\n    Component.prototype.onBeforeConnect = function () {\n    };\n    Component.prototype.onMessage = function (topicName, value) {\n        call_on_message_1.callOnMessage(topicName, value, this);\n    };\n    Component.prototype.onContextChange = function (change) {\n        call_on_context_change_1.callOnContextChange(change, this);\n    };\n    // internal web component standard method\n    Component.prototype.connectedCallback = function () {\n        this.INTERNAL.isConnected = true;\n        awaitDisconnect(this);\n        this.onConnect();\n        this.doRender();\n    };\n    Component.prototype.onConnect = function () {\n    };\n    Component.prototype.onDisconnect = function () {\n    };\n    /**\n     * Lifecycle method: Implement this method to dynamically accept or revoke attribute changes\n     * @param name Name of the attribute\n     * @param newValue Value to accept or revoke\n     * @param oldValue Previous value\n     */\n    Component.prototype.shouldAttributeChange = function (name, newValue, oldValue) {\n        return true;\n    };\n    /**\n     * Overriding this method and not calling the super method\n     * allows to fetch the original attribute value from VDOM (no DOM traversal string typecast)\n     */\n    Component.prototype.getAttribute = function (name, type) {\n        // in case of DOM transparency and post-render time, the truth is the DOM\n        if (type === attr_1.AttrType.DOM_TRANSPARENT && this.el) {\n            return this.el.getAttribute(name);\n        }\n        return this.INTERNAL.attributes[name];\n    };\n    /**\n     * Overriding this method and not calling the super method\n     * allows to take the original attribute value from VDOM (no DOM traversal string typecast)\n     */\n    Component.prototype.setAttribute = function (name, value, type) {\n        var prevValue = this.getAttribute(name, type);\n        // implementation to pass a map of attributes at once\n        // like: <Bar attrs={{ hidden: true, foo: '123', ... }} /> instead of writing\n        // <Bar hidden={true} foo='123' />\n        if (name === dom_1.ATTRS_ATTR_NAME) {\n            for (var attrName in value) {\n                this.setAttribute(attrName, value[attrName]);\n            }\n            return;\n        }\n        if (this.shouldAttributeChange(name, value, prevValue)) {\n            // store internal attribute state value\n            this.INTERNAL.attributes[name] = value;\n            if (this.el) {\n                // standard HTML attribute as per definition\n                if ((core_1.st.dom.isStandardHTMLAttribute(name) ||\n                    // type set on call of setAttribute as AttrType.DOM_TRANSPARENT\n                    (typeof type !== lang_1.TYPE_UNDEFINED && type === attr_1.AttrType.DOM_TRANSPARENT) ||\n                    // @attr(AttrType.DOM_TRANSPARENT)\n                    attr_1.AttrTrait.getType(this, name) === attr_1.AttrType.DOM_TRANSPARENT)) {\n                    // reflect to DOM (casts to string)\n                    this.el.setAttribute(name, value);\n                    // persist for re-renderings???\n                    this.virtualNode.attributes[name] = value;\n                }\n            }\n            // call lifecycle method\n            this.onAttributeChange(name, value, prevValue);\n        }\n    };\n    /**\n     * Lifecycle method: Implement to get notified when attributes change\n     */\n    Component.prototype.onAttributeChange = function (name, newValue, oldValue) {\n    };\n    Component.prototype.onBeforeRender = function () {\n    };\n    Component.prototype.render = function () {\n        if (typeof this.INTERNAL.options.tpl != lang_1.TYPE_FUNCTION) {\n            return vdom_1.tsx(\"fragment\", null);\n        }\n        return this.INTERNAL.options.tpl(this);\n    };\n    Component.prototype.onAfterRefChange = function (refName, refValue) {\n    };\n    Component.prototype.doRender = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var vdom, nodesToRender;\n            return __generator(this, function (_a) {\n                if (!this.INTERNAL) {\n                    this.disconnectedCallback();\n                    return [2 /*return*/];\n                }\n                this.onBeforeRender();\n                vdom = this.render();\n                if (!vdom) {\n                    throw new Error(\"The render() method or the template (tpl) of <\" + this.constructor.name + \" /> must return virtual nodes.\");\n                }\n                nodesToRender = Array.isArray(vdom) ? __spreadArrays(vdom) : [vdom];\n                // if there isn't a prev. VDOM state, render initially\n                core_1.st.renderer.render(nodesToRender, this.el);\n                this.updateClassAndStyles();\n                // resolve promises for calls on this.initiallyRendered()\n                this.INTERNAL.resolveOnInitiallyRendered();\n                // call lifecycle method\n                this.onAfterRender();\n                return [2 /*return*/];\n            });\n        });\n    };\n    Component.prototype.onAfterRender = function () {\n    };\n    Component.prototype.dispatchEvent = function (eventName, init) {\n        this.el.dispatchEvent(new CustomEvent(eventName.toLowerCase(), init));\n    };\n    Component.prototype.initiallyRendered = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (this.el)\n                    return [2 /*return*/, Promise.resolve()];\n                return [2 /*return*/, new Promise(function (resolve) {\n                        _this.INTERNAL.resolveOnInitiallyRendered = resolve;\n                    })];\n            });\n        });\n    };\n    Component.prototype.disconnectedCallback = function () {\n        if (this.INTERNAL) {\n            if (this.INTERNAL.isConnected) {\n                this.INTERNAL.isConnected = false;\n            }\n            else {\n                return;\n            }\n        }\n        this.onDisconnect();\n        event_bus_1.EventBusTrait.disableFor(this);\n        // purge from global instance registry\n        // (e.g. doesn't retrigger render on TSS theme change)\n        var index = core_1.st[i_st_1.GlobalCache.COMPONENT_INSTANCES].indexOf(this);\n        if (index > -1) {\n            core_1.st[i_st_1.GlobalCache.COMPONENT_INSTANCES].splice(index, 1);\n        }\n        // remove @context handlers\n        context_2.removeContextChangeHandlersOfInstance(this);\n        if (this.INTERNAL && this.INTERNAL.refs) {\n            // reset @ref references\n            for (var refName in this.INTERNAL.refs) {\n                // @ts-ignore\n                if (this.INTERNAL.refs[refName]) {\n                    // sub-component GC\n                    // @ts-ignore\n                    exports.disconnectComponent(this.INTERNAL.refs[refName]);\n                    // GC\n                    // @ts-ignore\n                    delete this.INTERNAL.refs[refName];\n                }\n            }\n        }\n        // GC\n        if (this.el) {\n            // @ts-ignore\n            delete this.el.$stComponent;\n            // @ts-ignore\n            delete this.el.$stComponentRef;\n            delete this.el;\n        }\n        delete this.mutationObserver;\n        delete this.virtualNode;\n        delete this.parent;\n        delete this.childComponents;\n        delete this.INTERNAL;\n    };\n    return Component;\n}());\nexports.Component = Component;\nif (!core_1.st.component) {\n    core_1.st.component = Component;\n}\nelse {\n    if (process.env.NODE_ENV === 'development') {\n        core_1.st.warn('Module component is loaded twice. Check for duplicate famework import!');\n    }\n}\nexports.getComponent = function (className) { return core_1.st[i_st_1.GlobalCache.COMPONENT_REGISTRY][className]; };\nexports.disconnectComponent = function (component) {\n    if (component.INTERNAL) {\n        if (component.mutationObserver) {\n            component.mutationObserver.disconnect();\n        }\n        if (component.childComponents) {\n            for (var _i = 0, _a = component.childComponents; _i < _a.length; _i++) {\n                var childComponent = _a[_i];\n                exports.disconnectComponent(childComponent);\n            }\n        }\n        component.disconnectedCallback();\n    }\n};\nvar awaitDisconnect = function (component) {\n    var onMutation = function (mutationsList) {\n        for (var _i = 0, mutationsList_1 = mutationsList; _i < mutationsList_1.length; _i++) {\n            var mutation = mutationsList_1[_i];\n            if (!component.INTERNAL || !component.el)\n                continue;\n            if (Array.prototype.indexOf.call(mutation.removedNodes, component.el) > -1) {\n                exports.disconnectComponent(component);\n            }\n        }\n    };\n    if (typeof MutationObserver !== lang_1.TYPE_UNDEFINED) {\n        // attached component\n        if (component.el.parentNode) {\n            // old browsers might not call .onDisconnect() and lead to memory overhead\n            // but that is a compromise that seems to be sane\n            // if necessary, add: mutationobserver-shim in your application bundle\n            component.mutationObserver = new MutationObserver(onMutation);\n            component.mutationObserver.observe(component.el.parentNode, {\n                attributes: false,\n                childList: true,\n                subtree: false\n            });\n        }\n        else {\n            // some intermediate disconnection state\n            // make sure, GC is running\n            exports.disconnectComponent(component);\n        }\n    }\n};\nif (!core_1.st.getComponent) {\n    core_1.st.getComponent = exports.getComponent;\n}\n//# sourceMappingURL=component.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONTEXT_CHANGE_ASSIGNMENTS = 'CONTEXT_CHANGE_ASSIGNMENTS';\nexports.CONTEXT_CHANGE_PATH_WILDCARD = '*';\nfunction onContextChange(contextName, path) {\n    return function (target, propertyKey) {\n        if (!target[exports.CONTEXT_CHANGE_ASSIGNMENTS]) {\n            target[exports.CONTEXT_CHANGE_ASSIGNMENTS] = {};\n        }\n        target[exports.CONTEXT_CHANGE_ASSIGNMENTS][contextName] = {\n            methodName: propertyKey,\n            path: path ? path : exports.CONTEXT_CHANGE_PATH_WILDCARD\n        };\n    };\n}\nexports.onContextChange = onContextChange;\n//# sourceMappingURL=on-context-change.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar on_message_1 = require(\"../decorator/on-message\");\nexports.callOnMessage = function (topicName, value, instance) {\n    var prototype = Object.getPrototypeOf(instance);\n    if (!prototype[on_message_1.MESSAGE_ASSIGNMENTS])\n        return;\n    // walk thru @onMessage assignments\n    for (var assignmentTopicName in prototype[on_message_1.MESSAGE_ASSIGNMENTS]) {\n        if (assignmentTopicName !== topicName) {\n            continue;\n        }\n        var targetMethodName = prototype[on_message_1.MESSAGE_ASSIGNMENTS][topicName];\n        // call method\n        instance[targetMethodName].call(instance, value);\n    }\n};\n//# sourceMappingURL=call-on-message.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../../core\");\nexports.style = function (name, definitions) {\n    var styleIdent = '$' + name;\n    // local cache\n    var style = document.head[styleIdent];\n    // replace/update style\n    if (!style) {\n        // add\n        style = document.createElement('style');\n        document.head.appendChild(style);\n        style.type = 'text/css';\n        setStyle(style, definitions);\n        // local cache\n        document.head[styleIdent] = style;\n    }\n    else {\n        setStyle(style, definitions);\n    }\n    return style;\n};\nvar setStyle = function (style, definitions) {\n    if (style.childNodes[0]) {\n        style.removeChild(style.childNodes[0]);\n    }\n    style.appendChild(document.createTextNode(definitions));\n};\ncore_1.st.style = exports.style;\n//# sourceMappingURL=style.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar route_1 = require(\"./component/route\");\nexports.Route = route_1.Route;\nvar route_list_1 = require(\"./component/route-list\");\nexports.RouteList = route_list_1.RouteList;\nvar link_1 = require(\"./component/link\");\nexports.Link = link_1.Link;\nvar router_1 = require(\"./router\");\nexports.PATH_START = router_1.PATH_START;\nexports.PATH_WILDCARD = router_1.PATH_WILDCARD;\n// just for st.enable(router, ...)\nexports.router = null;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../core\");\nvar lang_1 = require(\"../../core/lang\");\nvar i_st_1 = require(\"../../core/st/interface/i$st\");\n// matches when no route matches (not even partially!), basically like HTTP ERROR 404 NOT FOUND behaviour\nexports.PATH_WILDCARD = \"*\";\n// matches when no path is given, like: /, /#, /#/\nexports.PATH_START = \"\";\nexports.DEFAULT_ROUTE_CACHE_GROUP = 'main';\nif (!core_1.st.router) {\n    var PATH_SEP_1 = \"/\";\n    var PATH_PARAM_PREFIX_1 = \":\";\n    var PATH_TOKEN_MISSING_1 = \"TOKEN_MISSING:ACTUAL_PATH_LONGER\";\n    core_1.st.router = {\n        match: {},\n        // necessary for operations to act on location change\n        ON_LOCATION_CHANGE_HANDLERS: [],\n        // necessary for operations that belong to .match being validated already\n        ON_AFTER_MATCH_HANDLERS: [],\n        tokenizedActualPath: [],\n        prefix: '#/',\n        enabled: false,\n        paramsChanged: false,\n        ON_AFTER_CACHE_GROUP_CHANGE_HANDLERS: [],\n        activeRouteCacheGroup: exports.DEFAULT_ROUTE_CACHE_GROUP,\n        activeLinkClass: ['active'],\n        addOnAfterCacheGroupChangeHandler: function (handler) {\n            core_1.st.router.ON_AFTER_CACHE_GROUP_CHANGE_HANDLERS.push(handler);\n        },\n        removeOnAfterCacheGroupChangeHandler: function (handler) {\n            var index = core_1.st.router.ON_AFTER_CACHE_GROUP_CHANGE_HANDLERS.indexOf(handler);\n            if (index > -1) {\n                core_1.st.router.ON_AFTER_CACHE_GROUP_CHANGE_HANDLERS.splice(index, 1);\n            }\n        },\n        callOnAfterCacheGroupChangeHandler: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var _i, _a, handler;\n            return __generator(this, function (_b) {\n                for (_i = 0, _a = core_1.st.router.ON_AFTER_CACHE_GROUP_CHANGE_HANDLERS; _i < _a.length; _i++) {\n                    handler = _a[_i];\n                    handler();\n                }\n                return [2 /*return*/];\n            });\n        }); },\n        addOnAfterMatchHandler: function (handler) {\n            core_1.st.router.ON_AFTER_MATCH_HANDLERS.push(handler);\n        },\n        removeOnAfterMatchHandler: function (handler) {\n            var index = core_1.st.router.ON_AFTER_MATCH_HANDLERS.indexOf(handler);\n            if (index > -1) {\n                core_1.st.router.ON_AFTER_MATCH_HANDLERS.splice(index, 1);\n            }\n        },\n        callOnAfterMatchHandlers: function () { return __awaiter(void 0, void 0, void 0, function () {\n            var _i, _a, handler, _b, _c, cmp;\n            return __generator(this, function (_d) {\n                for (_i = 0, _a = core_1.st.router.ON_AFTER_MATCH_HANDLERS; _i < _a.length; _i++) {\n                    handler = _a[_i];\n                    handler();\n                }\n                if (core_1.st.router.paramsChanged) {\n                    for (_b = 0, _c = core_1.st[i_st_1.GlobalCache.COMPONENT_INSTANCES]; _b < _c.length; _b++) {\n                        cmp = _c[_b];\n                        if (typeof cmp.onRouteParamsChanged === lang_1.TYPE_FUNCTION) {\n                            cmp.onRouteParamsChanged(core_1.st.router.match.params);\n                        }\n                    }\n                }\n                return [2 /*return*/];\n            });\n        }); },\n        addOnLocationChangeHandler: function (handler) {\n            core_1.st.router.ON_LOCATION_CHANGE_HANDLERS.push(handler);\n        },\n        removeOnLocationChangeHandler: function (handler) {\n            var index = core_1.st.router.ON_LOCATION_CHANGE_HANDLERS.indexOf(handler);\n            if (index > -1) {\n                core_1.st.router.ON_LOCATION_CHANGE_HANDLERS.splice(index, 1);\n            }\n        },\n        callOnLocationChangeHandlers: function () {\n            core_1.st.router.match = {};\n            for (var _i = 0, _a = core_1.st.router.ON_LOCATION_CHANGE_HANDLERS; _i < _a.length; _i++) {\n                var handler = _a[_i];\n                handler();\n            }\n        },\n        tokenize: function (urlPath) {\n            return urlPath.split(PATH_SEP_1);\n        },\n        doMatch: function (tokenizedMatchPath, path) {\n            // local temp. match\n            var match = {\n                isExact: true,\n                isPartial: false,\n                params: {},\n                paths: [],\n                path: path\n            };\n            var maxLength = tokenizedMatchPath.length > core_1.st.router.tokenizedActualPath.length ?\n                tokenizedMatchPath.length : core_1.st.router.tokenizedActualPath.length;\n            for (var i = 0; i < maxLength; i++) {\n                // allow for \"\" to be a valid token, but not undefined\n                var pathToken = typeof tokenizedMatchPath[i] !== lang_1.TYPE_UNDEFINED ?\n                    tokenizedMatchPath[i] : PATH_TOKEN_MISSING_1;\n                // looks like a parameter because it starts with \":\"\n                if (pathToken.startsWith(PATH_PARAM_PREFIX_1)) {\n                    // cut away first char (\":\")\n                    var paramName = pathToken.substring(1);\n                    if (match.params[paramName] !== core_1.st.router.tokenizedActualPath[i]) {\n                        core_1.st.router.paramsChanged = true;\n                        // casts intrinsically based on the string syntax (\"0.012\" -> float number, \"true\" -> true etc.)\n                        //let parameter = castIntrinsic(st.router.tokenizedActualPath[i]);\n                        var parameter = core_1.st.router.tokenizedActualPath[i];\n                        if (typeof parameter === lang_1.TYPE_STRING) {\n                            //unescape url parameter if string\n                            parameter = unescape(parameter);\n                        }\n                        match.params[paramName] = parameter;\n                    }\n                }\n                else if (!core_1.st.router.tokenizedActualPath[i] && tokenizedMatchPath[i]) {\n                    match.isExact = false;\n                    match.isPartial = false;\n                    // e.g. match path: \"blog/page/9\" vs. actual path: \"blog\"\n                    break;\n                }\n                else {\n                    // match the actual path token with the candidates token at the same position\n                    if (typeof core_1.st.router.tokenizedActualPath[i] != lang_1.TYPE_UNDEFINED &&\n                        pathToken === core_1.st.router.tokenizedActualPath[i]) {\n                        match.isPartial = true;\n                    }\n                    else {\n                        // can't be an exact match anymore, because one position didn't match\n                        match.isExact = false;\n                    }\n                }\n            }\n            if (match.isPartial) {\n                //partial only if path is smaller than actual length\n                match.isPartial = tokenizedMatchPath.length < core_1.st.router.tokenizedActualPath.length;\n            }\n            var queryParams = core_1.st.router.getQueryParams();\n            for (var key in queryParams) {\n                match.params[key] = queryParams[key];\n            }\n            if (match.isPartial || match.isExact) {\n                return match;\n            }\n        },\n        getQueryParams: function () {\n            var locationSearchParams = {};\n            var queryString = location.href.split('?')[1];\n            if (!queryString) {\n                return {};\n            }\n            decodeURIComponent(queryString)\n                .split(/&/g)\n                .forEach(function (assignment) {\n                var assignmentSplit = assignment.split('=');\n                locationSearchParams[assignmentSplit[0]] = assignmentSplit[1];\n            });\n            return locationSearchParams;\n        },\n        // for: /#/home/foo, #home/foo, /home/foo\n        // always return: home/foo\n        getUrlPath: function (pathnameOrHash) {\n            // pathname always starts with \"/\" and hash always with \"#\" -> cut em out\n            var urlPath = pathnameOrHash.substring(1);\n            // in case of /#/foo\n            if (urlPath.indexOf(PATH_SEP_1) === 0) {\n                urlPath = urlPath.substring(1);\n            }\n            // strip leading /\n            urlPath = core_1.st.router.removeTrailingSep(urlPath);\n            return urlPath;\n        },\n        removeTrailingSep: function (url) {\n            return url[url.length - 1] === PATH_SEP_1 ? url.substring(0, url.length - 1) : url;\n        },\n        createMatcher: function (matchPath, onMatch, onMismatch) {\n            // one-time closure cache, tokenize the path 1x\n            var tokenizedPaths = [];\n            var nonTokenizedPaths = [];\n            if (!Array.isArray(matchPath)) {\n                matchPath = [matchPath];\n            }\n            for (var _i = 0, matchPath_1 = matchPath; _i < matchPath_1.length; _i++) {\n                var path = matchPath_1[_i];\n                tokenizedPaths.push(core_1.st.router.tokenize(core_1.st.router.removeTrailingSep(path)));\n                nonTokenizedPaths.push(path);\n            }\n            var matchAndNotify = function (tokenizedPath, nonTokenizedPath) {\n                core_1.st.router.initMatch();\n                for (var i = 0; i < tokenizedPath.length; i++) {\n                    var match = core_1.st.router.doMatch(tokenizedPath[i], nonTokenizedPath[i]);\n                    if (match) {\n                        core_1.st.router.updateMatch(match, nonTokenizedPaths);\n                        onMatch(nonTokenizedPath[i], match);\n                    }\n                    else {\n                        onMismatch(nonTokenizedPath[i]);\n                    }\n                }\n            };\n            return function () {\n                matchAndNotify(tokenizedPaths, nonTokenizedPaths);\n            };\n        },\n        updateMatch: function (match, nonTokenizedPaths) {\n            for (var _i = 0, nonTokenizedPaths_1 = nonTokenizedPaths; _i < nonTokenizedPaths_1.length; _i++) {\n                var nonTokenizedPath = nonTokenizedPaths_1[_i];\n                core_1.st.router.match[nonTokenizedPath] = match;\n            }\n        },\n        initMatch: function () {\n            if (!core_1.st.router.match) {\n                core_1.st.router.match = {};\n            }\n        },\n        tokenizeActualPath: function () {\n            // cache tokenized actual path\n            core_1.st.router.tokenizedActualPath = core_1.st.router.tokenize(core_1.st.router.getUrlPath(window.location.hash || window.location.pathname));\n        },\n        onLocationChange: function () {\n            // early return if there are no registered location change handlers\n            if (!core_1.st.router.ON_LOCATION_CHANGE_HANDLERS.length)\n                return;\n            // called initially AND when location changes\n            // reset match\n            delete core_1.st.router.match;\n            core_1.st.router.paramsChanged = false;\n            core_1.st.router.tokenizeActualPath();\n            // run matchers\n            core_1.st.router.callOnLocationChangeHandlers();\n            core_1.st.router.callOnAfterMatchHandlers();\n            core_1.st.router.callOnAfterCacheGroupChangeHandler();\n            if (!Object.keys(core_1.st.router.match).length) {\n                core_1.st.router.tokenizedActualPath = [exports.PATH_WILDCARD];\n                core_1.st.router.callOnLocationChangeHandlers();\n                core_1.st.router.callOnAfterMatchHandlers();\n                core_1.st.router.callOnAfterCacheGroupChangeHandler();\n                if (!core_1.st.router.match) {\n                    if (process.env.NODE_ENV === 'development') {\n                        core_1.st.error('Not a single route provided via <Route> or <RouteList> did match.');\n                    }\n                }\n            }\n        },\n        enable: function () {\n            if (!core_1.st.router.enabled) {\n                core_1.st.router.enabled = true;\n                core_1.st.router.onLocationChange();\n                if (!window.onpopstate) {\n                    window.onpopstate = core_1.st.router.onLocationChange;\n                }\n            }\n        },\n        materialize: function (route, params) {\n            if (!params)\n                return route;\n            // we take a route like /blog/:post-id and params like { \"post-id\": 5 }\n            // and produce /blog/5 to transform it into a navigatable URL again\n            for (var param in params) {\n                route = route.replace(PATH_PARAM_PREFIX_1 + param, params[param]);\n            }\n            return route;\n        },\n        navigate: function (route, params) {\n            window.location.href = core_1.st.router.prefix + core_1.st.router.materialize(route, params);\n        }\n    };\n    // allows st.route = { ... } to actually change the route\n    // and st.route to actually return the latest match\n    Object.defineProperty(core_1.st, 'route', {\n        set: function (value) {\n            core_1.st.router.navigate(value.path, value.params);\n        },\n        get: function () {\n            var matchers = Object.values(core_1.st.router.match);\n            var exactMatch = matchers.find(function (m) { return m.isExact; });\n            if (exactMatch) {\n                return exactMatch;\n            }\n            if (matchers.length) {\n                return matchers[0];\n            }\n        }\n    });\n}\nelse {\n    if (process.env.NODE_ENV === 'development') {\n        core_1.st.warn('Module router is loaded twice. Check for duplicate framework import!');\n    }\n}\n//# sourceMappingURL=router.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONTEXT_NAME_SEPARATOR = '@$@';\nexports.generateContextName = function (className, propName) {\n    return \"\" + className + exports.CONTEXT_NAME_SEPARATOR + propName;\n};\n//# sourceMappingURL=generate-context-name.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.htmlCollectionToArray = function (collection) {\n    var result = [];\n    for (var i = 0; i < collection.length; i++) {\n        var item = collection.item(i);\n        if (item) {\n            result.push(item);\n        }\n    }\n    return result;\n};\n//# sourceMappingURL=html-collection-to-array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attr_1 = require(\"../trait/attr\");\nvar type_object_1 = require(\"../../../core/lang/type-object\");\nexports.attr = function (typeOrPrototype, propName) {\n    if (typeOrPrototype === void 0) { typeOrPrototype = attr_1.DEFAULT_ATTR_TYPE; }\n    if (propName === void 0) { propName = undefined; }\n    if (typeof typeOrPrototype !== type_object_1.TYPE_OBJECT) {\n        // support for @attr(ATTR_TYPE.?) with support for custom set ATTR_TYPE\n        return function (prototype, propName) {\n            attr_1.AttrTrait.addAttr(prototype.constructor, propName, typeOrPrototype);\n        };\n    }\n    else {\n        // support for @attr with default ATTR_TYPE\n        attr_1.AttrTrait.addAttr(typeOrPrototype.constructor, propName, attr_1.DEFAULT_ATTR_TYPE);\n    }\n};\n//# sourceMappingURL=attr.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vdom_1 = require(\"../../vdom\");\nvar core_1 = require(\"../../../core\");\nvar i_st_1 = require(\"../../../core/st/interface/i$st\");\nexports.defineComponent = function (targetClassOrFunction, options) {\n    if (options === void 0) { options = {}; }\n    var componentIdent = targetClassOrFunction.name || vdom_1.newUniqueComponentName();\n    // register with element registry\n    core_1.st[i_st_1.GlobalCache.COMPONENT_REGISTRY][componentIdent] = targetClassOrFunction;\n    core_1.st[i_st_1.GlobalCache.COMPONENT_WEAKMAP].set(targetClassOrFunction, componentIdent);\n    // assign options to be used in CustomElement derived class constructor\n    targetClassOrFunction.COMPONENT_OPTIONS = options;\n    // return enhanced class / function\n    return targetClassOrFunction;\n};\n//# sourceMappingURL=define-component.js.map","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeArrays = function (a, b) {\n    var normalizedA = [];\n    var normalizedB = [];\n    if (a) {\n        normalizedA = Array.isArray(a) ? a : [a];\n    }\n    if (b) {\n        normalizedB = Array.isArray(b) ? b : [b];\n    }\n    return __spreadArrays(normalizedA, normalizedB);\n};\n//# sourceMappingURL=merge-arrays.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../../core\");\nvar component_1 = require(\"../../component\");\n// <RouteList> ... </RouteList>\nvar RouteList = /** @class */ (function (_super) {\n    __extends(RouteList, _super);\n    function RouteList() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.match = function () {\n            // subsequent match & enter/leave on routes\n            if (!_this.childComponents)\n                return;\n            for (var _i = 0, _a = _this.childComponents; _i < _a.length; _i++) {\n                var route = _a[_i];\n                route.match();\n            }\n        };\n        _this.cacheGroupChange = function () {\n            // subsequent match & enter/leave on routes\n            if (!_this.childComponents)\n                return;\n            for (var _i = 0, _a = _this.childComponents; _i < _a.length; _i++) {\n                var route = _a[_i];\n                route.cacheGroupFn();\n            }\n        };\n        return _this;\n    }\n    RouteList.prototype.onAfterRender = function () {\n        core_1.st.router.addOnLocationChangeHandler(this.match);\n        core_1.st.router.addOnAfterCacheGroupChangeHandler(this.cacheGroupChange);\n        this.match();\n        this.cacheGroupChange();\n    };\n    RouteList.prototype.render = function () {\n        return this.renderChildren();\n    };\n    RouteList.prototype.onDisconnect = function () {\n        core_1.st.router.removeOnLocationChangeHandler(this.match);\n        core_1.st.router.removeOnAfterCacheGroupChangeHandler(this.cacheGroupChange);\n    };\n    RouteList = __decorate([\n        component_1.component\n    ], RouteList);\n    return RouteList;\n}(core_1.st.component));\nexports.RouteList = RouteList;\n//# sourceMappingURL=route-list.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * equals to objects properties (only first level)\n *\n * if o1 or o2 not defined it will be falls\n * @param o1 first object to compare\n * @param o2 second object to compare\n */\nexports.equalObjects = function (o1, o2) {\n    if (!o1 && !o2) {\n        return true;\n    }\n    if (o1 && !o2) {\n        return false;\n    }\n    if (o1 && !o2) {\n        return false;\n    }\n    var equalObject = function (obj1, obj2) {\n        for (var _i = 0, _a = Object.keys(obj1); _i < _a.length; _i++) {\n            var val = _a[_i];\n            if (!obj2[val]) {\n                return false;\n            }\n            if (obj1[val] !== obj2[val]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    if (!equalObject(o1, o2)) {\n        return false;\n    }\n    return equalObject(o2, o1);\n};\n//# sourceMappingURL=equal-objects.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar log_level_1 = require(\"./log-level\");\nexports.LogLevel = log_level_1.LogLevel;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneArray = function (array, deep) {\n    if (deep === void 0) { deep = true; }\n    var clone = [];\n    for (var i = 0; i < array.length; i++) {\n        if (deep) {\n            clone[i] = exports.immute(array[i]);\n        }\n        else {\n            clone.push(array[i]);\n        }\n    }\n    return clone;\n};\nexports.cloneObject = function (object, deep) {\n    if (deep === void 0) { deep = true; }\n    var clone = {};\n    for (var key in object) {\n        if (object.hasOwnProperty(key)) {\n            if (deep) {\n                clone[key] = exports.immute(object[key]);\n            }\n            else {\n                clone[key] = object[key];\n            }\n        }\n    }\n    return clone;\n};\nexports.immute = function (arrayOrObject) {\n    var type = Object.prototype.toString.call(arrayOrObject);\n    if (type === \"[object Object]\") {\n        return exports.cloneObject(arrayOrObject);\n    }\n    if (type === \"[object Array]\") {\n        return exports.cloneArray(arrayOrObject);\n    }\n    return arrayOrObject;\n};\n//# sourceMappingURL=immute.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// custom element needs VDOM\nrequire(\"../vdom\");\nrequire(\"./style/index\");\nvar component_1 = require(\"./component\");\nexports.Component = component_1.Component;\nvar attr_1 = require(\"./decorator/attr\");\nexports.attr = attr_1.attr;\nvar component_2 = require(\"./decorator/component\");\nexports.component = component_2.component;\nvar event_1 = require(\"./decorator/event\");\nexports.event = event_1.event;\nvar render_1 = require(\"./function/render\");\nexports.render = render_1.render;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.event = function () { };\n//# sourceMappingURL=event.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar st_1 = require(\"../../st\");\nvar i_st_1 = require(\"../../st/interface/i$st\");\nvar define_context_1 = require(\"../function/define-context\");\nvar ContextTrait = /** @class */ (function () {\n    function ContextTrait() {\n    }\n    ContextTrait.enableFor = function (instance) {\n        var prototype = Object.getPrototypeOf(instance);\n        // no @context used in target class\n        if (!prototype[define_context_1.CONTEXT_ASSIGNMENTS])\n            return;\n        var _loop_1 = function (contextPropAssignment) {\n            // instead of reading and writing from/to the class instance memory,\n            // use the context cache instead\n            Object.defineProperty(prototype, contextPropAssignment.propName, {\n                get: function () {\n                    return st_1.st[i_st_1.GlobalCache.CONTEXT][contextPropAssignment.contextName].value;\n                },\n                set: function (value) {\n                    st_1.st[i_st_1.GlobalCache.CONTEXT][contextPropAssignment.contextName].value = value;\n                },\n                configurable: true,\n            });\n            // hook onContextChange lifecycle method\n            st_1.st.context(contextPropAssignment.contextName, prototype[define_context_1.CONTEXT_ASSIGNMENTS][contextPropAssignment], instance.onContextChange.bind(instance), instance);\n        };\n        for (var _i = 0, _a = prototype[define_context_1.CONTEXT_ASSIGNMENTS]; _i < _a.length; _i++) {\n            var contextPropAssignment = _a[_i];\n            _loop_1(contextPropAssignment);\n        }\n    };\n    return ContextTrait;\n}());\nexports.ContextTrait = ContextTrait;\n//# sourceMappingURL=context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar type_function_1 = require(\"./type-function\");\nvar type_object_1 = require(\"./type-object\");\nexports.isPrimitive = function (value) {\n    return value === null || (typeof value !== type_object_1.TYPE_OBJECT && typeof value !== type_function_1.TYPE_FUNCTION);\n};\n//# sourceMappingURL=is-primitive.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../core\");\nvar i_st_1 = require(\"../../core/st/interface/i$st\");\nvar iattributes_1 = require(\"./interface/iattributes\");\nvar type_function_1 = require(\"../../core/lang/type-function\");\nvar type_object_1 = require(\"../../core/lang/type-object\");\nvar dom_1 = require(\"./dom\");\nexports.tsxToStandardAttributeName = function (tsxAttributeName) {\n    // support for SVG xlink:*\n    if (tsxAttributeName.startsWith(dom_1.XLINK_ATTRIBUTE_NAME)) {\n        return (dom_1.XLINK_ATTRIBUTE_NAME + \":\" + tsxAttributeName.replace(dom_1.XLINK_ATTRIBUTE_NAME, \"\")).toLowerCase();\n    }\n    switch (tsxAttributeName) {\n        // support for React className -> class\n        case dom_1.CLASS_NAME_ATTRIBUTE_NAME:\n            return dom_1.CLASS_ATTRIBUTE_NAME;\n    }\n    return tsxAttributeName;\n};\n// If a JSX comment is written, it looks like: { /* this */ }\n// Therefore, it turns into: {}, which is detected here\nexports.isJSXComment = function (node) {\n    return node && typeof node === type_object_1.TYPE_OBJECT && (!node.attributes && !node.type && !node.children);\n};\n// Implementation to flatten virtual node children structures like:\n// [<p>1</p>, [<p>2</p>,<p>3</p>]] to: [<p>1</p>,<p>2</p>,<p>3</p>]\nexports.toFlatNodeList = function (children) {\n    return [].concat.apply([], children);\n};\n// Filters comments and undefines like: ['a', 'b', false, {}] to: ['a', 'b', false]\nexports.filterComments = function (children) {\n    return children.filter(function (child) { return !exports.isJSXComment(child); });\n};\nexports.cmpSequence = 0;\nexports.newUniqueComponentName = function () { return \"fnc-\" + ++exports.cmpSequence; };\nexports.tsx = (core_1.st.tsx = function (\n// if it is a function, it is a component\ntype, attributes) {\n    var children = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        children[_i - 2] = arguments[_i];\n    }\n    children = exports.filterComments(exports.toFlatNodeList(children));\n    // clone attributes as well\n    attributes = __assign({}, attributes);\n    // effectively unwrap by directly returning the children\n    if (type === dom_1.FRAGMENT_ELEMENT_NAME || attributes[iattributes_1.UNWRAP_ATTRIBUTE_NAME]) {\n        return exports.filterComments(children);\n    }\n    var slotChildren = {};\n    // it's a component, divide and conquer children\n    if (typeof type === type_function_1.TYPE_FUNCTION) {\n        // try to infer type via function name\n        type = core_1.st[i_st_1.GlobalCache.COMPONENT_WEAKMAP].get(type);\n        if (process.env.NODE_ENV === \"development\") {\n            // assign debug className flag\n            attributes.__className = type;\n        }\n        // <template> elements are to be moved inside slotChildren\n        for (var i = 0; i < children.length; i++) {\n            // --- <template> discovery and divide & conquer algorithm to find named and default children\n            if (children[i] && children[i].type === dom_1.TEMPLATE_ELEMENT_NAME) {\n                //templateTagFound = true;\n                // last one wins if the same name occurs more than once\n                slotChildren[children[i].attributes[iattributes_1.SLOT_ATTRIBUTE_NAME]] = children[i];\n            }\n            else {\n                // stack\n                if (!slotChildren[dom_1.DEFAULT_SLOT_NAME]) {\n                    slotChildren[dom_1.DEFAULT_SLOT_NAME] = [];\n                }\n                slotChildren[dom_1.DEFAULT_SLOT_NAME].push(children[i]);\n            }\n        }\n        // <template> behaviour: disable direct 1:1 inject; children stored in slotChildren are rendered\n        // via this.renderChildren() and this.renderSlot(...) respectively in components\n        children = [];\n    }\n    // @ts-ignore as type allows for Function here, but internally we wouldn't\n    // want to deal with Function, only \"string\". However, in this method it is indeed possible\n    return {\n        type: type,\n        attributes: attributes,\n        children: children,\n        slotChildren: slotChildren,\n    };\n});\n//# sourceMappingURL=tsx.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar st_1 = require(\"../st\");\nexports.BUS_INIT_NAME = \"$st__bus\";\nexports.BUS_TOPIC_WILDCARD = '*';\n// for st.enable(bus, ...)\nexports.bus = null;\nif (!st_1.st.bus) {\n    st_1.st.bus = {\n        init: function (instance) {\n            if (instance === void 0) { instance = st_1.st; }\n            if (!instance[exports.BUS_INIT_NAME]) {\n                instance[exports.BUS_INIT_NAME] = {\n                    listeners: []\n                };\n            }\n        },\n        sendMessage: function (topic, data, instance) {\n            if (instance === void 0) { instance = st_1.st; }\n            st_1.st.bus.init(instance);\n            for (var _i = 0, _a = instance[exports.BUS_INIT_NAME].listeners; _i < _a.length; _i++) {\n                var observer = _a[_i];\n                if (observer && (observer.topic === topic || observer.topic === exports.BUS_TOPIC_WILDCARD)) {\n                    observer.fn(data, topic);\n                }\n            }\n        },\n        onMessage: function (topic, fn, instance) {\n            if (instance === void 0) { instance = st_1.st; }\n            st_1.st.bus.init(instance);\n            instance[exports.BUS_INIT_NAME].listeners.push({\n                topic: topic,\n                fn: fn\n            });\n        },\n        onMessageUnsubscribe: function (topic, fn, instance) {\n            if (instance === void 0) { instance = st_1.st; }\n            if (!instance[exports.BUS_INIT_NAME])\n                return;\n            for (var i = 0; i < instance[exports.BUS_INIT_NAME].listeners.length; i++) {\n                var observer = instance[exports.BUS_INIT_NAME].listeners[i];\n                if (fn && fn === observer && (observer.topic === topic || topic === exports.BUS_TOPIC_WILDCARD)) {\n                    delete instance[exports.BUS_INIT_NAME].listeners[i];\n                }\n            }\n        }\n    };\n    st_1.st.sendMessage = st_1.st.bus.sendMessage;\n    st_1.st.onMessage = st_1.st.bus.onMessage;\n    st_1.st.onMessageUnsubscribe = st_1.st.bus.onMessageUnsubscribe;\n}\nelse {\n    if (process.env.NODE_ENV === 'development') {\n        st_1.st.warn('Module event-bus is loaded twice. Check for duplicate famework import!');\n    }\n}\n//# sourceMappingURL=event-bus.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar change_type_1 = require(\"../cd/interface/change-type\");\nvar prop_change_manager_1 = require(\"../cd/prop-change-manager\");\nvar is_primitive_1 = require(\"../lang/is-primitive\");\nvar i_st_1 = require(\"../st/interface/i$st\");\nvar st_1 = require(\"../st/st\");\nvar type_function_1 = require(\"../lang/type-function\");\nvar context_1 = require(\"./decorator/context\");\nvar HANDLER_OWNING_INSTANCE = \"HANDLER_OWNING_INSTANCE\";\nvar DEFAULT_CONTEXT_VALUE = {};\n// for st.enable(context, ...)\nexports.context = context_1.context;\nif (!st_1.st.context) {\n    /* internal API */\n    var callChangeHandlers_1 = function (onChangeHandlers, name, type, value, prevValue, path) {\n        if (path === void 0) { path = prop_change_manager_1.DEFAULT_EMPTY_PATH; }\n        for (var _i = 0, onChangeHandlers_1 = onChangeHandlers; _i < onChangeHandlers_1.length; _i++) {\n            var onChangeHandler = onChangeHandlers_1[_i];\n            onChangeHandler({\n                name: name,\n                type: type,\n                path: path,\n                value: value,\n                prevValue: prevValue,\n            });\n        }\n    };\n    var hasContextCacheEntry_1 = function (contextName) {\n        return st_1.st[i_st_1.GlobalCache.CONTEXT][contextName];\n    };\n    var initContextCacheEntry_1 = function (contextName, initialValue) {\n        if (!hasContextCacheEntry_1(contextName)) {\n            st_1.st[i_st_1.GlobalCache.CONTEXT][contextName] = {\n                value: undefined,\n                onChangeHandlers: [],\n            };\n            // set initial value in context cache\n            st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].value = initialValue;\n            prop_change_manager_1.PropChangeManager.onChange(st_1.st[i_st_1.GlobalCache.CONTEXT][contextName], \"value\", change_type_1.ChangeType.DEEP, function (value, prevValue) {\n                callChangeHandlers_1(st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].onChangeHandlers, contextName, change_type_1.ChangeType.REFERENCE, value, prevValue);\n            }, function (path, value, prevValue) {\n                // prevent proxy on proxy change handler recursions\n                if (!path.startsWith('Symbol')) {\n                    callChangeHandlers_1(st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].onChangeHandlers, contextName, change_type_1.ChangeType.DEEP, value, prevValue, path);\n                }\n            });\n        }\n    };\n    /* public API */\n    /**\n     * Initializes a global context object\n     * @param contextName App-wide unique name of the context\n     * @param initialValue Initial value. Must be an Object or Array\n     * @param onChange Handler function to be applied when the context object gets changed by reference or deeply\n     * @param instance Optional instance reference to allow for correct GC. Should be used with @Share\n     */\n    st_1.st.context = function context(contextName, initialValue, onChange, instance) {\n        if (!initialValue) {\n            initialValue = {};\n        }\n        if (is_primitive_1.isPrimitive(initialValue)) {\n            throw new Error(\"A context cannot be a primitive value like \" + initialValue + \". Wrap the value of \" + contextName.toString() + \" in an object.\");\n        }\n        if (!hasContextCacheEntry_1(contextName)) {\n            initContextCacheEntry_1(contextName, initialValue || DEFAULT_CONTEXT_VALUE);\n        }\n        exports.addContextChangeHandler(contextName, onChange, instance);\n        return st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].value;\n    };\n}\nelse {\n    if (process.env.NODE_ENV === 'development') {\n        st_1.st.warn('Module context is loaded twice. Check for duplicate famework import!');\n    }\n}\n/**\n * Registers a change handler for a global context object to be called on reference or deep change.\n * @param contextName App-wide unique name of the context\n * @param onChange Handler function, called on change\n * @param instance Optional instance reference to allow for correct GC. Should be used with @Share\n */\nexports.addContextChangeHandler = (st_1.st.addContextChangeHandler = function (contextName, onChange, instance) {\n    if (typeof onChange == type_function_1.TYPE_FUNCTION) {\n        if (instance) {\n            onChange[HANDLER_OWNING_INSTANCE] = instance;\n        }\n        st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].onChangeHandlers.push(onChange);\n    }\n});\n/**\n * Removes single change handlers for cases where the functional API is used.\n * @param contextName Name reference of the context\n * @param [onChange] Handler function reference. Must equal (===) the orginal function registered\n */\nexports.removeContextChangeHandler = (st_1.st.removeContextChangeHandler = function (contextName, onChange) {\n    var index = st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].onChangeHandlers.indexOf(onChange);\n    if (index > -1) {\n        st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].onChangeHandlers.splice(index, 1);\n    }\n});\n/**\n * Used for class instance GC. Removes all change handlers that belong to a GC'd instance.\n * @param instance Custom element instance or generic class instance\n */\nexports.removeContextChangeHandlersOfInstance = function (instance) {\n    if (st_1.st[i_st_1.GlobalCache.CONTEXT]) {\n        for (var contextName in st_1.st[i_st_1.GlobalCache.CONTEXT]) {\n            st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].onChangeHandlers = st_1.st[i_st_1.GlobalCache.CONTEXT][contextName].onChangeHandlers.filter(function (onChange) {\n                if (onChange && onChange[HANDLER_OWNING_INSTANCE] && onChange[HANDLER_OWNING_INSTANCE] === instance) {\n                    return false;\n                }\n                return true;\n            });\n        }\n    }\n};\n//# sourceMappingURL=context.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../../core\");\nvar component_1 = require(\"../../component\");\nvar attr_1 = require(\"../../component/trait/attr\");\nvar lang_1 = require(\"../../../core/lang\");\nvar vdom_1 = require(\"../../vdom\");\nvar Link = /** @class */ (function (_super) {\n    __extends(Link, _super);\n    function Link() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.path = '';\n        _this.target = '';\n        _this.href = 'javascript:';\n        _this.match = false;\n        _this.onClick = function () {\n            core_1.st.route = {\n                path: _this.path,\n                params: _this.params\n            };\n        };\n        _this.onConnect = function () {\n            _this.match = _this.isMatch();\n            // register callback for future route changes\n            core_1.st.router.addOnAfterMatchHandler(_this.onAfterMatchHandler);\n        };\n        _this.onAfterMatchHandler = function () { return __awaiter(_this, void 0, void 0, function () {\n            var matchBefore;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        matchBefore = this.match;\n                        this.match = this.isMatch();\n                        if (!(matchBefore != this.match)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.rerender()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.updateActiveClass = function () {\n            if (!Array.isArray(_this.class)) {\n                _this.class = [_this.class];\n            }\n            var activeClassNames = _this.activeClass || core_1.st.router.activeLinkClass;\n            if (!Array.isArray(activeClassNames)) {\n                activeClassNames = [activeClassNames];\n            }\n            var filteredClasses = _this.class.filter(function (className) { return activeClassNames.indexOf(className) === -1; });\n            if (_this.match) {\n                filteredClasses = lang_1.mergeArrays(filteredClasses, activeClassNames);\n            }\n            _this.class = filteredClasses;\n        };\n        _this.isMatch = function () {\n            if (core_1.st.route) {\n                var matcher = core_1.st.router.match[_this.path];\n                if (matcher && lang_1.equalObjects(matcher.params, _this.params || {})) {\n                    if (matcher.isExact || matcher.isPartial) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n        _this.render = function () {\n            _this.updateActiveClass();\n            return vdom_1.tsx(\"fragment\", null,\n                _this.renderChildren(),\n                _this.match\n                    ? _this.renderSlot(Link_1.ACTIVE_LINK_SLOT)\n                    : _this.renderSlot(Link_1.INACTIVE_LINK_SLOT));\n        };\n        _this.onDisconnect = function () {\n            core_1.st.router.removeOnAfterMatchHandler(_this.onAfterMatchHandler);\n        };\n        return _this;\n    }\n    Link_1 = Link;\n    var Link_1;\n    Link.ACTIVE_LINK_SLOT = 'ACTIVE_LINK_SLOT';\n    Link.INACTIVE_LINK_SLOT = 'INACTIVE_LINK_SLOT';\n    __decorate([\n        component_1.attr,\n        __metadata(\"design:type\", String)\n    ], Link.prototype, \"path\", void 0);\n    __decorate([\n        component_1.attr,\n        __metadata(\"design:type\", Object)\n    ], Link.prototype, \"params\", void 0);\n    __decorate([\n        component_1.attr(attr_1.AttrType.DOM_TRANSPARENT),\n        __metadata(\"design:type\", String)\n    ], Link.prototype, \"target\", void 0);\n    __decorate([\n        component_1.attr(attr_1.AttrType.DOM_TRANSPARENT),\n        __metadata(\"design:type\", String)\n    ], Link.prototype, \"href\", void 0);\n    __decorate([\n        component_1.attr,\n        __metadata(\"design:type\", String)\n    ], Link.prototype, \"activeClass\", void 0);\n    Link = Link_1 = __decorate([\n        component_1.component({ tag: 'a' })\n    ], Link);\n    return Link;\n}(core_1.st.component));\nexports.Link = Link;\n//# sourceMappingURL=link.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_primitive_1 = require(\"../lang/is-primitive\");\nvar st_1 = require(\"../st/st\");\nvar change_detector_1 = require(\"./change-detector\");\nvar change_type_1 = require(\"./interface/change-type\");\nvar type_function_1 = require(\"../lang/type-function\");\nexports.DEFAULT_EMPTY_PATH = \"\";\nvar PropChangeManager = /** @class */ (function () {\n    function PropChangeManager() {\n    }\n    PropChangeManager.conditionallyApplyDeepChangeDetection = function (value, onDeepChange) {\n        // only activate deep change detection if there is some function to listen to it\n        if (!is_primitive_1.isPrimitive(value) && typeof onDeepChange == type_function_1.TYPE_FUNCTION) {\n            value = change_detector_1.ChangeDetector.onChange(value, onDeepChange);\n        }\n        return value;\n    };\n    PropChangeManager.onChange = function (instance, name, type, onChange, onDeepChange) {\n        var value = PropChangeManager.conditionallyApplyDeepChangeDetection(instance[name], onDeepChange);\n        Object.defineProperty(instance, name, {\n            get: function () { return value; },\n            set: function (newValue) {\n                var prevValue = value;\n                if (type === change_type_1.ChangeType.DEEP) {\n                    value = PropChangeManager.conditionallyApplyDeepChangeDetection(newValue, onDeepChange);\n                }\n                onChange(value, prevValue);\n            },\n            configurable: true,\n        });\n        return value;\n    };\n    return PropChangeManager;\n}());\nexports.PropChangeManager = PropChangeManager;\nif (!st_1.st.onPropChange) {\n    st_1.st.onPropChange = PropChangeManager.onChange;\n}\n//# sourceMappingURL=prop-change-manager.js.map","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ChangeType;\n(function (ChangeType) {\n    ChangeType[\"REFERENCE\"] = \"REFERENCE\";\n    ChangeType[\"DEEP\"] = \"DEEP\";\n})(ChangeType = exports.ChangeType || (exports.ChangeType = {}));\n//# sourceMappingURL=change-type.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./context\");\nvar context_1 = require(\"./decorator/context\");\nexports.context = context_1.context;\nvar context_2 = require(\"./trait/context\");\nexports.ContextTrait = context_2.ContextTrait;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cast_intrinsic_1 = require(\"./cast-intrinsic\");\nexports.castIntrinsic = cast_intrinsic_1.castIntrinsic;\nvar equal_objects_1 = require(\"./equal-objects\");\nexports.equalObjects = equal_objects_1.equalObjects;\nvar immute_1 = require(\"./immute\");\nexports.cloneArray = immute_1.cloneArray;\nexports.cloneObject = immute_1.cloneObject;\nexports.immute = immute_1.immute;\nvar is_primitive_1 = require(\"./is-primitive\");\nexports.isPrimitive = is_primitive_1.isPrimitive;\nvar merge_arrays_1 = require(\"./merge-arrays\");\nexports.mergeArrays = merge_arrays_1.mergeArrays;\nvar merge_objects_1 = require(\"./merge-objects\");\nexports.mergeObjects = merge_objects_1.mergeObjects;\nvar node_list_to_array_1 = require(\"./node-list-to-array\");\nexports.nodeListToArray = node_list_to_array_1.nodeListToArray;\nvar html_collection_to_array_1 = require(\"./html-collection-to-array\");\nexports.htmlCollectionToArray = html_collection_to_array_1.htmlCollectionToArray;\nvar resolve_path_in_object_1 = require(\"./resolve-path-in-object\");\nexports.resolvePathInObject = resolve_path_in_object_1.resolvePathInObject;\nvar type_boolean_1 = require(\"./type-boolean\");\nexports.TYPE_BOOLEAN = type_boolean_1.TYPE_BOOLEAN;\nvar type_function_1 = require(\"./type-function\");\nexports.TYPE_FUNCTION = type_function_1.TYPE_FUNCTION;\nvar type_object_1 = require(\"./type-object\");\nexports.TYPE_OBJECT = type_object_1.TYPE_OBJECT;\nvar type_string_1 = require(\"./type-string\");\nexports.TYPE_STRING = type_string_1.TYPE_STRING;\nvar type_undefined_1 = require(\"./type-undefined\");\nexports.TYPE_UNDEFINED = type_undefined_1.TYPE_UNDEFINED;\n//# sourceMappingURL=index.js.map","module.exports = require(\"regenerator-runtime\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// curry fn\nexports.render = function (renderFn) { return function (component) {\n    return function () { return renderFn(component); };\n}; };\n//# sourceMappingURL=render.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../../core\");\nvar event_bus_1 = require(\"../../../core/event-bus\");\nvar EventBusTrait = /** @class */ (function () {\n    function EventBusTrait() {\n    }\n    EventBusTrait.enableFor = function (instance) {\n        instance._messageObserver = (function (value, topic) {\n            if (instance.INTERNAL && instance.INTERNAL.isConnected) {\n                instance.onMessage.call(instance, topic, value);\n            }\n        }).bind(instance);\n        core_1.st.onMessage(event_bus_1.BUS_TOPIC_WILDCARD, instance._messageObserver);\n    };\n    EventBusTrait.disableFor = function (instance) {\n        core_1.st.onMessageUnsubscribe(event_bus_1.BUS_TOPIC_WILDCARD, instance._messageObserver, instance);\n    };\n    return EventBusTrait;\n}());\nexports.EventBusTrait = EventBusTrait;\n// import publish/subscribe\ncore_1.st.enable(event_bus_1.bus);\n//# sourceMappingURL=event-bus.js.map","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar st_1 = require(\"../st\");\nvar interface_1 = require(\"./interface\");\nvar should_log_1 = require(\"./should-log\");\nif (!st_1.st.info) {\n    st_1.st.info = st_1.st.log = st_1.st.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (process.env.NODE_ENV != \"production\" && should_log_1.shouldLog(interface_1.LogLevel.INFO)) {\n            console.info.apply(console, __spreadArrays([\"ℹ️\"], args));\n        }\n    };\n    st_1.st.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (process.env.NODE_ENV != \"production\" && should_log_1.shouldLog(interface_1.LogLevel.WARN)) {\n            console.warn.apply(console, __spreadArrays([\"🔥\"], args));\n        }\n    };\n    st_1.st.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (process.env.NODE_ENV != \"production\" && should_log_1.shouldLog(interface_1.LogLevel.ERROR)) {\n            console.error.apply(console, __spreadArrays([\"💣\"], args));\n        }\n    };\n}\nelse {\n    if (process.env.NODE_ENV === 'development') {\n        st_1.st.warn('Module log is loaded twice. Check for duplicate famework import!');\n    }\n}\n//# sourceMappingURL=log.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GlobalCache;\n(function (GlobalCache) {\n    GlobalCache[\"COMPONENT_INSTANCES\"] = \"COMPONENT_INSTANCES\";\n    GlobalCache[\"CONTEXT\"] = \"CONTEXT\";\n    GlobalCache[\"COMPONENT_REGISTRY\"] = \"COMPONENT_REGISTRY\";\n    GlobalCache[\"COMPONENT_WEAKMAP\"] = \"COMPONENT_WEAKMAP\";\n})(GlobalCache = exports.GlobalCache || (exports.GlobalCache = {}));\n//# sourceMappingURL=i$st.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./log\");\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar on_context_change_1 = require(\"../decorator/on-context-change\");\nvar change_type_1 = require(\"../../cd/interface/change-type\");\nvar generate_context_name_1 = require(\"./generate-context-name\");\nexports.callOnContextChange = function (change, instance) {\n    var prototype = Object.getPrototypeOf(instance);\n    if (!prototype[on_context_change_1.CONTEXT_CHANGE_ASSIGNMENTS])\n        return;\n    // walk thru @onContextChange assignments\n    for (var contextName in prototype[on_context_change_1.CONTEXT_CHANGE_ASSIGNMENTS]) {\n        // case of pseudo-unique generated context name:\n        // developer uses property name for identification (e.g. @onContextChange('person', 'firstName'))\n        // but internally the context is named \"SomeClass@$@person\"\n        if (change.name.indexOf(generate_context_name_1.CONTEXT_NAME_SEPARATOR) > -1 &&\n            contextName !== change.name.split(generate_context_name_1.CONTEXT_NAME_SEPARATOR)[1]) {\n            continue;\n        }\n        else if (change.name.indexOf(generate_context_name_1.CONTEXT_NAME_SEPARATOR) == -1 &&\n            change.name !== contextName) {\n            continue;\n        }\n        var targetPath = prototype[on_context_change_1.CONTEXT_CHANGE_ASSIGNMENTS][contextName].path;\n        var targetMethodName = prototype[on_context_change_1.CONTEXT_CHANGE_ASSIGNMENTS][contextName].methodName;\n        if ((targetPath !== on_context_change_1.CONTEXT_CHANGE_PATH_WILDCARD &&\n            targetPath === change.path) || targetPath === on_context_change_1.CONTEXT_CHANGE_PATH_WILDCARD) {\n            // refernece changes are assignments; this hook is for changes only\n            if (change.type === change_type_1.ChangeType.DEEP) {\n                // call change handler method\n                instance[targetMethodName].call(instance, change.value, change.prevValue);\n            }\n        }\n    }\n};\n//# sourceMappingURL=call-on-context-change.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"ERROR\"] = 0] = \"ERROR\";\n    LogLevel[LogLevel[\"WARN\"] = 1] = \"WARN\";\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\n//# sourceMappingURL=log-level.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nodeListToArray = function (nodeList) {\n    var result = [];\n    for (var i = 0; i < nodeList.length; i++) {\n        var item = nodeList.item(i);\n        if (item) {\n            result.push(item);\n        }\n    }\n    return result;\n};\n//# sourceMappingURL=node-list-to-array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// saving bytes by not having \"object\", \"function\", \"undefined\"\n// defined in bundled code more than one time\nexports.TYPE_UNDEFINED = \"undefined\";\n//# sourceMappingURL=type-undefined.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"../../core\");\nvar is_primitive_1 = require(\"../../core/lang/is-primitive\");\nvar i_st_1 = require(\"../../core/st/interface/i$st\");\nvar component_1 = require(\"../component\");\nvar tsx_1 = require(\"./tsx\");\nvar iattributes_1 = require(\"./interface/iattributes\");\nvar type_function_1 = require(\"../../core/lang/type-function\");\nvar type_string_1 = require(\"../../core/lang/type-string\");\nvar type_boolean_1 = require(\"../../core/lang/type-boolean\");\nvar immute_1 = require(\"../../core/lang/immute\");\nvar type_undefined_1 = require(\"../../core/lang/type-undefined\");\nvar attr_1 = require(\"../component/trait/attr\");\n// name of the standard component attribute to pass a map of attributes at once\n// like: <Bar attrs={{ hidden: true, foo: '123', ... }} /> instead of writing\n// <Bar hidden={true} foo='123' />\nexports.ATTRS_ATTR_NAME = \"attrs\";\nexports.TEMPLATE_ELEMENT_NAME = \"template\";\nexports.DEFAULT_SLOT_NAME = \"default\";\nexports.FRAGMENT_ELEMENT_NAME = \"fragment\";\nexports.CLASS_ATTRIBUTE_NAME = \"class\";\nexports.STYLE_ATTRIBUTE_NAME = \"style\";\nexports.TABINDEX_ATTRIBUTE_NAME = \"tabindex\";\nexports.CLASS_NAME_ATTRIBUTE_NAME = \"className\";\nexports.XLINK_ATTRIBUTE_NAME = \"xlink\";\nexports.ID_ATTRIBUTE_NAME = \"id\";\nexports.LIST_KEY_ATTRIBUTE_NAME = \"key\";\nexports.DISABLED_ATTRIBUTE_NAME = \"disabled\";\nexports.ATTR_EVENT_LISTENER_PREFIX = \"on\";\nexports.ATTR_DEBUG_PREFIX = \"__\";\nexports.ATTR_ST_HIDE = \"st-hide\";\nvar SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nvar STANDARD_HTML_PASS_ATTRIBUTES = [\n    exports.CLASS_ATTRIBUTE_NAME,\n    exports.STYLE_ATTRIBUTE_NAME,\n    exports.ID_ATTRIBUTE_NAME,\n    exports.TABINDEX_ATTRIBUTE_NAME,\n    exports.LIST_KEY_ATTRIBUTE_NAME,\n    exports.DISABLED_ATTRIBUTE_NAME\n];\nif (!core_1.st.dom) {\n    // DOM abstraction layer for manipulation\n    core_1.st.dom = {\n        isReady: function () { return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (document.body)\n                    return [2 /*return*/, Promise.resolve()];\n                return [2 /*return*/, new Promise(function (resolve) { return document.addEventListener(\"DOMContentLoaded\", function () { return resolve(); }); })];\n            });\n        }); },\n        hasElNamespace: function (domElement) {\n            return domElement.namespaceURI === SVG_NAMESPACE;\n        },\n        hasSvgNamespace: function (parentElement, type) {\n            return core_1.st.dom.hasElNamespace(parentElement) && type !== \"STYLE\" && type !== \"SCRIPT\";\n        },\n        isRegisteredComponent: function (tagName) { return !!core_1.st[i_st_1.GlobalCache.COMPONENT_REGISTRY][tagName]; },\n        createElementOrElements: function (virtualNode, parentDomElement, detached) {\n            if (detached === void 0) { detached = false; }\n            if (Array.isArray(virtualNode)) {\n                return core_1.st.dom.createChildElements(virtualNode, parentDomElement, detached);\n            }\n            else if (typeof virtualNode != type_undefined_1.TYPE_UNDEFINED) {\n                return core_1.st.dom.createElement(virtualNode, parentDomElement, detached);\n            }\n            else {\n                // undefined virtualNode -> e.g. when a tsx variable is used in markup which is undefined\n                return core_1.st.dom.createTextNode(\"\", parentDomElement, detached);\n            }\n        },\n        createComponentInstance: function (virtualNode, parentDomElement) {\n            // Refactor: exclude\n            var component;\n            var componentCtor = core_1.st.getComponent(virtualNode.type);\n            if (!componentCtor)\n                return {};\n            var outerAttributes = immute_1.cloneObject(virtualNode.attributes, false);\n            // identified virtual component\n            // functional component\n            if (!componentCtor.name) {\n                var fn = componentCtor;\n                // create shallow component instance\n                component = new component_1.Component();\n                if (componentCtor.functionalName) {\n                    fn.COMPONENT_OPTIONS.tag = componentCtor.functionalName;\n                }\n                // assign options\n                component.INTERNAL.options = fn.COMPONENT_OPTIONS;\n                // execute function and assign render method\n                component.render = fn(component);\n            }\n            else {\n                // class API\n                // create instance of component\n                component = new componentCtor();\n                if (process.env.NODE_ENV == 'development') {\n                    if (!(component instanceof core_1.st.component)) {\n                        core_1.st.error(\"Class \" + componentCtor.name + \" does not extend from st.component!\");\n                    }\n                }\n            }\n            // set root DOM node ref and parent ref\n            component.parent = parentDomElement.$stComponentRef;\n            // assign attributes, slotChildren etc.\n            component.virtualNode = virtualNode;\n            if (component.parent) {\n                if (!component.parent.childComponents) {\n                    component.parent.childComponents = [];\n                }\n                component.parent.childComponents.push(component);\n            }\n            var _loop_1 = function (propName) {\n                // undefined early return\n                if (typeof component[propName] == type_undefined_1.TYPE_UNDEFINED)\n                    return \"continue\";\n                if (propName.startsWith(exports.ATTR_EVENT_LISTENER_PREFIX) &&\n                    typeof component[propName] == type_function_1.TYPE_FUNCTION) {\n                    // component-local bound event listener function\n                    if (!virtualNode.attributes) {\n                        virtualNode.attributes = {};\n                    }\n                    // e.g. onClick\n                    if (outerAttributes[propName]) {\n                        var outsideEventListener_1 = outerAttributes[propName];\n                        var localEventListener_1 = component[propName];\n                        // makes sure that first onClick (inner class impl) is called\n                        // and afterwards outer registered onClick with the same event,\n                        // no matter if the event was stopped by the inner class impl.\n                        virtualNode.attributes[propName] = function (evt) {\n                            localEventListener_1(evt);\n                            outsideEventListener_1(evt);\n                        };\n                    }\n                    else {\n                        virtualNode.attributes[propName] = component[propName];\n                    }\n                }\n            };\n            for (var propName in component) {\n                _loop_1(propName);\n            }\n            // to analyze, filter and transform before create\n            component.onBeforeElCreate(virtualNode);\n            return {\n                component: component,\n                componentCtor: componentCtor,\n                outerAttributes: outerAttributes\n            };\n        },\n        getTagToUse: function (component, virtualNode) {\n            if (component) {\n                if (component.tag || component.INTERNAL.options && component.INTERNAL.options.tag) {\n                    // use <class-name> instead of ClassName which would end up as <classname> in DOM\n                    return component.tag || component.INTERNAL.options.tag;\n                }\n            }\n            // support for <component tag=\"h1\"> and <div tag=\"h2\"> cases\n            if (virtualNode.attributes && virtualNode.attributes.tag) {\n                return virtualNode.attributes.tag;\n            }\n            return virtualNode.type;\n        },\n        createElement: function (virtualNode, parentDomElement, detached) {\n            if (detached === void 0) { detached = false; }\n            var newEl;\n            var setComponentAttr = function (name) {\n                var value = outerAttributes[name] || component.INTERNAL[name];\n                if (typeof value !== type_undefined_1.TYPE_UNDEFINED) {\n                    virtualNode.attributes[name] =\n                        component.INTERNAL[name] =\n                            component[name] = value;\n                }\n            };\n            var _a = core_1.st.dom.createComponentInstance(virtualNode, parentDomElement), component = _a.component, outerAttributes = _a.outerAttributes;\n            if (virtualNode.type.toUpperCase() === \"SVG\" || core_1.st.dom.hasSvgNamespace(parentDomElement, virtualNode.type.toUpperCase())) {\n                newEl = document.createElementNS(SVG_NAMESPACE, virtualNode.type);\n            }\n            else {\n                newEl = document.createElement(core_1.st.dom.getTagToUse(component, virtualNode));\n            }\n            if (component) {\n                // set element reference\n                component.el = newEl;\n                // reference component logical controller component\n                newEl.$stComponent = component;\n                newEl.$stComponentRef = component;\n                newEl.getComponent = function () {\n                    return this.$stComponent || this.$stComponentRef;\n                };\n                // any internal  @attr(AttrType.DOM_TRANSPARENT) foo = 123; or outer foo={123} handling\n                for (var attrName in component.INTERNAL.attributes) {\n                    if (attr_1.AttrTrait.getType(component, attrName) == attr_1.AttrType.DOM_TRANSPARENT) {\n                        var value = outerAttributes[attrName] || component.INTERNAL.attributes[attrName];\n                        virtualNode.attributes[attrName] = value;\n                        // update as a decision\n                        component.INTERNAL.attributes[attrName] = value;\n                    }\n                }\n                setComponentAttr(exports.DISABLED_ATTRIBUTE_NAME);\n                setComponentAttr(exports.LIST_KEY_ATTRIBUTE_NAME);\n                setComponentAttr(exports.TABINDEX_ATTRIBUTE_NAME);\n                setComponentAttr(exports.ID_ATTRIBUTE_NAME);\n            }\n            else {\n                // passing down parent component reference (it's a pure DOM element in this case)\n                newEl.$stComponentRef = parentDomElement.$stComponentRef;\n                newEl.getComponent = function () {\n                    return this.$stComponentRef;\n                };\n            }\n            if (virtualNode.attributes) {\n                core_1.st.dom.setAttributes(virtualNode.attributes, newEl);\n            }\n            if (component) {\n                // to verify and mutate further\n                component.onAfterElCreate(newEl);\n                component.onBeforeElChildrenCreate();\n            }\n            if (virtualNode.children) {\n                core_1.st.dom.createChildElements(virtualNode.children, newEl);\n            }\n            if (component) {\n                component.onAfterElChildrenCreate();\n                component.onBeforeConnect();\n            }\n            if (!detached) {\n                parentDomElement.appendChild(newEl);\n                if (component) {\n                    component.connectedCallback();\n                }\n            }\n            return newEl;\n        },\n        replaceElement: function (virtualNode, parentDomElement, oldDomChildElement) {\n            var domElement = core_1.st.dom.createElement(virtualNode, parentDomElement, true);\n            parentDomElement.replaceChild(domElement, oldDomChildElement);\n            return domElement;\n        },\n        replaceTextNode: function (virtualElementTextContent, parentDomElement, oldDomChildElement) {\n            var domElement = core_1.st.dom.createTextNode(virtualElementTextContent, parentDomElement, true);\n            parentDomElement.replaceChild(domElement, oldDomChildElement);\n            return domElement;\n        },\n        createTextNode: function (text, domElement, detached) {\n            if (detached === void 0) { detached = false; }\n            var node = document.createTextNode(text.toString());\n            if (!detached) {\n                domElement.appendChild(node);\n            }\n            return node;\n        },\n        createChildElements: function (virtualChildren, domElement, detached) {\n            if (detached === void 0) { detached = false; }\n            var children = [];\n            for (var _i = 0, _a = virtualChildren; _i < _a.length; _i++) {\n                var virtualChild = _a[_i];\n                if (is_primitive_1.isPrimitive(virtualChild)) {\n                    children.push(core_1.st.dom.createTextNode(((typeof virtualChild == type_undefined_1.TYPE_UNDEFINED || virtualChild === null) ? \"\" : virtualChild).toString(), domElement, detached));\n                }\n                else {\n                    if (tsx_1.isJSXComment(virtualChild)) {\n                        continue;\n                    }\n                    children.push(core_1.st.dom.createElement(virtualChild, domElement, detached));\n                }\n            }\n            return children;\n        },\n        setAttribute: function (name, value, domElement, forceNative) {\n            // don't render debug attributes like __source and __self\n            if (name.indexOf(exports.ATTR_DEBUG_PREFIX) === 0)\n                return;\n            // attributes not set (undefined) are ignored; use null value to reset an attributes state\n            if (typeof value == type_undefined_1.TYPE_UNDEFINED)\n                return;\n            // implementation to pass a map of attributes at once\n            // like: <input attrs={{ hidden: true, value: '123', ... }} /> instead of writing\n            // <input hidden={true} value='123' />\n            if (name === exports.ATTRS_ATTR_NAME) {\n                for (var attrName in value) {\n                    core_1.st.dom.setAttribute(attrName, value[attrName], domElement, forceNative);\n                }\n                return;\n            }\n            // stores referenced DOM nodes in a memory efficient WeakMap\n            // for access from CustomElements\n            if (name === iattributes_1.REF_ATTRIBUTE_NAME) {\n                var refName = Object.keys(value)[0];\n                if (!domElement.$stComponentRef.INTERNAL.refs) {\n                    domElement.$stComponentRef.INTERNAL.refs = {};\n                }\n                var refValue = domElement.$stComponent || domElement;\n                // remember for destruction on disconnect\n                domElement.$stComponentRef.INTERNAL.refs[refName] = refValue;\n                var refMutation = false;\n                if (value[refName][refName]) {\n                    refMutation = true;\n                }\n                Object.defineProperty(value[refName], refName, {\n                    value: refValue,\n                    configurable: true,\n                });\n                if (refMutation) {\n                    value[refName].onAfterRefChange(refName, refValue);\n                }\n                return;\n            }\n            if (name.startsWith(exports.ATTR_EVENT_LISTENER_PREFIX) && typeof value == type_function_1.TYPE_FUNCTION) {\n                var eventName = name.substring(2).toLowerCase();\n                var capturePos = eventName.indexOf(\"capture\");\n                var doCapture = capturePos > -1;\n                // onClickCapture={...} support\n                if (doCapture) {\n                    eventName = eventName.substring(0, capturePos);\n                }\n                domElement.addEventListener(eventName, value, doCapture);\n                return;\n            }\n            // transforms class={['a', 'b']} into class=\"a b\"\n            if (name === exports.CLASS_ATTRIBUTE_NAME && Array.isArray(value)) {\n                value = value.join(\" \");\n            }\n            if (core_1.st.dom.hasElNamespace(domElement) && name.startsWith(exports.XLINK_ATTRIBUTE_NAME)) {\n                domElement.setAttributeNS(\"http://www.w3.org/1999/xlink\", tsx_1.tsxToStandardAttributeName(name), value);\n            }\n            else {\n                if (domElement.$stComponent && !core_1.st.dom.isStandardHTMLAttribute(name) && forceNative !== true) {\n                    domElement.$stComponent.setAttribute(name, value);\n                }\n                else if (name === exports.STYLE_ATTRIBUTE_NAME && typeof value !== type_string_1.TYPE_STRING) {\n                    for (var prop in value) {\n                        domElement.style[prop] = value[prop];\n                    }\n                }\n                else {\n                    if (typeof value == type_boolean_1.TYPE_BOOLEAN) {\n                        domElement[name] = value;\n                    }\n                    else {\n                        domElement.setAttribute(name, value);\n                    }\n                }\n            }\n        },\n        isStandardHTMLAttribute: function (name) {\n            // these attributes, set on a component (from the outside) will\n            // always directly be set on component.el and the component will\n            // not be notified using lifecycle methods\n            // thus, these attribute names render pointless to be used\n            // but this should be obvious too - just because of thier names nature\n            return STANDARD_HTML_PASS_ATTRIBUTES.indexOf(name.toLowerCase()) > -1;\n        },\n        setAttributes: function (attributes, domElement, forceNative) {\n            for (var name_1 in attributes) {\n                core_1.st.dom.setAttribute(name_1, attributes[name_1], domElement, forceNative);\n            }\n        },\n        /**\n         * Only sets the non-standard st-hide attribute on the DOM element given.\n         * You need a global CSS style declaration like: [st-hide] { display: none }\n         * for this to work properly.\n         */\n        hide: function (domElement) {\n            domElement.setAttribute(exports.ATTR_ST_HIDE, '');\n        },\n        /**\n         * Removes the non-standard st-hide attribute from the DOM element given.\n         */\n        show: function (domElement) {\n            domElement.removeAttribute(exports.ATTR_ST_HIDE);\n        },\n        /**\n         * Removes the DOM element provided from it's parent.\n         */\n        removeElement: function (domElement) {\n            if (domElement.parentNode) {\n                domElement.parentNode.removeChild(domElement);\n            }\n        },\n        /**\n         * Removes all children of a DOM element.\n         * Behaves the same like element.innerHTML = '';\n         */\n        removeChildren: function (domElement) {\n            while (domElement.firstChild) {\n                domElement.removeChild(domElement.firstChild);\n            }\n        },\n        /**\n         * Removes a CSS class from a DOM elements classList.\n         */\n        addClass: function (className, domElement) {\n            domElement.classList.add(className);\n        },\n        /**\n         * Adds a CSS class from a DOM elements classList.\n         */\n        removeClass: function (className, domElement) {\n            domElement.classList.remove(className);\n        }\n    };\n    // DOM helper shortcut functions\n    core_1.st.hide = core_1.st.dom.hide;\n    core_1.st.show = core_1.st.dom.show;\n    core_1.st.addClass = core_1.st.dom.addClass;\n    core_1.st.removeClass = core_1.st.dom.removeClass;\n}\n//# sourceMappingURL=dom.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./event-bus\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONTEXT_ASSIGNMENTS = 'CONTEXT_ASSIGNMENTS';\nexports.defineContext = function (prototype, propName, contextName) {\n    if (!prototype[exports.CONTEXT_ASSIGNMENTS]) {\n        prototype[exports.CONTEXT_ASSIGNMENTS] = [];\n    }\n    prototype[exports.CONTEXT_ASSIGNMENTS].push({\n        propName: propName,\n        contextName: contextName\n    });\n};\n//# sourceMappingURL=define-context.js.map"],"sourceRoot":""}